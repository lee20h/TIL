# ğŸ“™ Today I Learned

## ê·œì¹™

- ê¸°ì–µì— ë‚¨ëŠ” ë‚´ìš© ê¸°ë¡ í›„ [ì •ì  ì›¹í˜ì´ì§€](https://lee20h.github.io/TIL/)ì— ì •ë¦¬
- Github Actionìœ¼ë¡œ ë°°í¬
- markdownìœ¼ë¡œ ì‘ì„±
- ë¬¸ì œ í’€ê³  [Problem Solving](https://github.com/lee20h/TIL/tree/master/Problem%20Solving) í´ë”ì— ëª¨ìœ¼ê¸°

---

# 2020ë…„

| [5ì›”](./years/2020/5ì›”.md) | [6ì›”](./years/2020/6ì›”.md) | [7ì›”](./years/2020/7ì›”.md) | [8ì›”](./years/2020/8ì›”.md) | [9ì›”](./years/2020/9ì›”.md) | [10ì›”](./years/2020/10ì›”.md) | [11ì›”](./years/2020/11ì›”.md) | [12ì›”](./years/2020/12ì›”.md) |
| -------------------------- | -------------------------- | -------------------------- | -------------------------- | -------------------------- | ---------------------------- | ---------------------------- | ---------------------------- |

---

# 2021ë…„

| [1ì›”](./years/2021/1ì›”.md) | [2ì›”](./years/2021/2ì›”.md) |
| -------------------------- | -------------------------- |

---

- 1 æ—¥

# PS

- Distribute Candies

```cpp
class Solution {
public:
    int distributeCandies(vector<int>& candyType) {
        set<int> s;
        for(int i=0; i<candyType.size(); i++) {
            s.insert(candyType[i]);
        }
        return min(s.size(), candyType.size()/2);
    }
};
```

ì•¨ë¦¬ìŠ¤ê°€ ë¨¹ì„ ì‚¬íƒ• ì¢…ë¥˜ë¥¼ ë‚˜ëˆ„ëŠ” ë¬¸ì œì´ë‹¤.

ì‚¬íƒ• ì¢…ë¥˜ê°€ ê°™ì€ ê²ƒë“¤ì´ ë“¤ì–´ìˆì„ ìˆ˜ë„ ìˆìœ¼ë¯€ë¡œ ì¢…ë¥˜ë§Œ ì²´í¬í•˜ê¸° ìœ„í•´ì„œ setì„ ì‚¬ìš©í•˜ì˜€ë‹¤.

setì˜ í¬ê¸° ì¦‰, ì‚¬íƒ•ì˜ ì¢…ë¥˜ì™€ ì‚¬íƒ•ì˜ ê°¯ìˆ˜ì˜ ì ˆë°˜ ì¤‘ ì‘ì€ ìˆ«ìë¥¼ ë°˜í™˜í•´ì£¼ë©´ ë˜ëŠ” ë¬¸ì œì´ë‹¤.

---

- 2 æ—¥

# ë„ì»¤ì™€ ì¿ ë²„ë„¤í‹°ìŠ¤

## ë„ì»¤

ë„ì»¤ëŠ” ì»¨í…Œì´ë„ˆ ê¸°ë°˜ì˜ ì˜¤í”ˆì†ŒìŠ¤ ê°€ìƒí™” í”Œë«í¼ì´ë¼ê³  í•œë‹¤. ì—¬ê¸°ì„œ ì»¨í…Œì´ë„ˆì— ëŒ€í•´ ë¨¼ì € ì•Œì•„ë³´ì.

### ì»¨í…Œì´ë„ˆ

ë¦¬ëˆ…ìŠ¤ ì»¤ë„ ê¸°ìˆ ì„ ì´ìš©í•´ì„œ í”„ë¡œì„¸ìŠ¤ê°€ ì‚¬ìš©í•˜ëŠ” ìì›ì„ ê²©ë¦¬í•˜ëŠ” ê²ƒì„ ì»¨í…Œì´ë„ˆë¼ê³  í•œë‹¤.

ì»¨í…Œì´ë„ˆë¥¼ ê¸°ì¡´ì˜ ê°€ìƒí™” ê¸°ìˆ ê³¼ ì°¨ì´ë¥¼ ë¹„êµí•´ë³´ë©´ ë”ìš± ë” ì´í•´í•˜ê¸° ì¢‹ë‹¤.

![image](https://user-images.githubusercontent.com/59367782/109613214-32954c00-7b74-11eb-82f7-e0ce005e9940.png)

[ì¶œì²˜](https://kubernetes.io/docs/concepts/overview/what-is-kubernetes/)

- ì „í†µì ì¸ ë°°í¬ ë°©ì‹: í•œ OSì— ì—¬ëŸ¬ ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ì˜¬ë ¤ì„œ ê°€ë™í•œë‹¤.
- ê°€ìƒí™” ë°°í¬ ë°©ì‹: í˜¸ìŠ¤íŠ¸ OSì— í•˜ì´í¼ë°”ì´ì €ë¥¼ êµ¬ë™ì‹œì¼œ ê·¸ ì† ê°€ìƒ ë¨¸ì‹ ì— ê²ŒìŠ¤íŠ¸ OSë¥¼ ê°ê° ì˜¬ë¦¬ê³  ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê°€ë™í•˜ëŠ” ë°©ì‹ì´ë‹¤.
- ì»¨í…Œì´ë„ˆ ë°°í¬ ë°©ì‹: í˜¸ìŠ¤íŠ¸ OSì— ì»¨í…Œì´ë„ˆ ì‹¤í–‰ í™˜ê²½ì„ êµ¬ì„±í•˜ê³  ê·¸ ìœ„ì— ì»¨í…Œì´ë„ˆë“¤ì„ ë‘ê³  ì–´í”Œë¦¬ì¼€ì´ì…˜ì„ ê°€ë™í•˜ëŠ” ë°©ì‹ì´ë‹¤.

ì¥ì 

- ê°€ë²¼ì›€: í˜¸ìŠ¤íŠ¸ OSì—ì„œ ëŒì•„ê°€ê¸° ë•Œë¬¸ì— ê²ŒìŠ¤íŠ¸ OSë¥¼ ì¶”ê°€í•  í•„ìš”ê°€ ì—†ê¸° ë•Œë¬¸ì— ìš©ëŸ‰ì´ ê°€ë³ë‹¤.
- íƒ„ë ¥ì„±: ì–´ëŠ í™˜ê²½ì—ì„œë‚˜ êµ¬ë™í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ê°œë°œê³¼ ë°°í¬ê°€ í¸ë¦¬í•˜ë‹¤.
- ìœ ì§€ ê´€ë¦¬ íš¨ìœ¨: í˜¸ìŠ¤íŠ¸ OS ì»¤ë„ í•˜ë‚˜ë§Œ ì¡´ì¬í•˜ê¸° ë•Œë¬¸ì— ì—…ë°ì´íŠ¸ë‚˜ íŒ¨ì¹˜ ì ìš©ì„ í•œë²ˆë§Œ ìˆ˜í–‰í•´ë„ ëª¨ë“  ì»¨í…Œì´ë„ˆì— ì ìš©ì´ ëœë‹¤.

### íë¦„

ë„ì»¤íŒŒì¼ -> build -> ë„ì»¤ì´ë¯¸ì§€ -> run -> ë„ì»¤ ì»¨í…Œì´ë„ˆ ìƒì„±

## ì¿ ë²„ë„¤í‹°ìŠ¤

ì„œë¹„ìŠ¤ë¥¼ ì»¨í…Œì´ë„ˆ ì‹¤í–‰ í™˜ê²½ìœ¼ë¡œ êµ¬ì¶•í•œ ë’¤ ìš´ì˜í•˜ê²Œ ë  ë•Œ, ë§Œì•½ ë§ì€ ì–‘ì˜ ë¶€í•˜ë¡œ ì¸í•´ ì˜¤í†  ìŠ¤ì¼€ì¼ë§ì„ ì´ìš©í•˜ì—¬ ìŠ¤ì¼€ì¼ ì•„ì›ƒí•œë‹¤ê³  ê°€ì •í•˜ë©´ í™•ì¥ëœ ì„œë²„ì— ì»¨í…Œì´ë„ˆë¥¼ ë‹¤ë¥¸ ì„œë²„ì™€ ë§ˆì°¬ê°€ì§€ë¡œ ìš´ì˜í•´ì•¼í•œë‹¤.

ì´ëŸ¬í•œ ë¶€ë¶„ì„ í•´ê²°í•´ì£¼ê¸° ìœ„í•´ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ì´ë¼ëŠ” ê°œë…ì´ ë‚˜ì˜¤ê²Œ ë˜ì—ˆë‹¤.

- [ë ˆí¼ëŸ°ìŠ¤](https://dailyheumsi.tistory.com/208)
- [ë ˆí¼ëŸ°ìŠ¤](https://subicura.com/2019/05/19/kubernetes-basic-1.html)

### ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜

- ì •ì˜

  - ë³µì¡í•œ ì»¨í…Œì´ë„ˆ í™˜ê²½ì„ íš¨ê³¼ì ìœ¼ë¡œ ê´€ë¦¬í•˜ê¸° ìœ„í•œ ë„êµ¬
  - ì„œë²„ ê´€ë¦¬ìì˜ ì—­í• ì„ ëŒ€ì‹  í•  í”„ë¡œê·¸ë¨ì„ ë§Œë“œëŠ” ë„êµ¬

- íŠ¹ì§•
  - í´ëŸ¬ìŠ¤í„°
  - ìƒíƒœ ê´€ë¦¬
  - ë°°í¬ ê´€ë¦¬
  - ë°°í¬ ë²„ì „ê´€ë¦¬
  - ì„œë¹„ìŠ¤ ë“±ë¡ ë° ì¡°íšŒ
  - ë³¼ë¥¨ ìŠ¤í† ë¦¬ì§€

ì—¬ëŸ¬ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë„êµ¬ë“¤ì´ ìˆì§€ë§Œ ê·¸ ì¤‘ ì¿ ë²„ë„¤í‹°ìŠ¤ê°€ `de facto standard`ê°€ ë˜ì—ˆë‹¤.

### êµ¬ì¡°ì™€ ì˜¤ë¸Œì íŠ¸

- í´ëŸ¬ìŠ¤í„° êµ¬ì¡°
  - ë§ˆìŠ¤í„° / ì›Œì»¤ ë…¸ë“œ
  - í•˜ë‚˜ì˜ ë§ˆìŠ¤í„° ë…¸ë“œì™€ ì—¬ëŸ¬ê°œì˜ ì›Œì»¤ ë…¸ë“œë¡œ êµ¬ì„±
- ì¿ ë²„ë„¤í‹°ìŠ¤ ì˜¤ë¸Œì íŠ¸
  - ì˜¤ë¸Œì íŠ¸ì™€ ì»¨íŠ¸ë¡¤ëŸ¬ë¡œ êµ¬ì„±
    - ì˜¤ë¸Œì íŠ¸: yamlì´ë‚˜ jsonìœ¼ë¡œ ì •ì˜ëœ ìŠ¤í™ì— ë”°ë¼ ë§Œë“¤ì–´ì§€ëŠ” ê°ì²´

`kubectl create -f pod.yaml`ë¡œ ì˜¤ë¸Œì íŠ¸ ìƒì„±

### ê¸°ë³¸ ì˜¤ë¸Œì íŠ¸ ì¢…ë¥˜

- Pod
  - ê°€ì¥ ê¸°ë³¸ì ì¸ ë°°í¬ ë‹¨ìœ„
  - ì»¨í…Œì´ë„ˆë“¤ì„ í¬í•¨
  - yaml í¬ë§·ìœ¼ë¡œ ì •ì˜
  - Pod ë‚´ ì»¨í…Œì´ë„ˆë“¤ì€ ê°™ì€ IP ë¥¼ ê°€ì§€ê³ , Port ë¥¼ ê³µìœ í•œë‹¤.
  - Pod ë‚´ ì»¨í…Œì´ë„ˆë“¤ë¼ë¦¬ëŠ” Volume ì„ ê³µìœ í•  ìˆ˜ ìˆë‹¤.

```yaml
# pod.yaml
apiVersion: v1
kind: Pod
metadata:
  name: nginx
spec:
  containers:
    - name: nginx
      image: nginx:1.7.9
      ports:
        - containerPort: 8090
```

- Volume
  - ì»¨í…Œì´ë„ˆì˜ ì™¸ë¶€ ë””ìŠ¤í¬
  - ì»¨í…Œì´ë„ˆê°€ ì¬ì‹¤í–‰ì‹œ Volume ì‚¬ìš©í•˜ë©´ íŒŒì¼ ìœ ì§€
  - Podì— ì¢…ì†ëœ ë””ìŠ¤í¬ë¡œ, Pod ë‚´ ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆë“¤ ê³µìœ  ê°€ëŠ¥
  - ì„ì‹œ ë””ìŠ¤í¬ (Pod ë‹¨ìœ„ ê³µìœ )
    - emptyDir
      - Pod ì´ ìƒì„±ë˜ê³  ì‚­ì œë  ë•Œ, ê°™ì´ ìƒì„±ë˜ê³  ì‚­ì œë˜ëŠ” ì„ì‹œ ë””ìŠ¤í¬
      - ìƒì„± ë‹¹ì‹œì—ëŠ” ì•„ë¬´ ê²ƒë„ ì—†ëŠ” ë¹ˆ ìƒíƒœ
      - ë¬¼ë¦¬ ë””ìŠ¤í¬(ë…¸ë“œ), ë©”ëª¨ë¦¬ì— ì €ì¥
  - ë¡œì»¬ ë””ìŠ¤í¬ (ë…¸ë“œ ë‹¨ìœ„ ê³µìœ )
    - hostPath
      - emptyDir ì™€ ê°™ì€ ì»¨ì…‰ì´ì§€ë§Œ, ê³µìœ  ë²”ìœ„ê°€ ë…¸ë“œë¼ëŠ” ì ë§Œ ë‹¤ë¦„
  - ë„¤íŠ¸ì›Œí¬ ë””ìŠ¤í¬
    - gitRepo (ì§€ê¸ˆì€ deprecated ë¼ê³  í•œë‹¤.)
      - ìƒì„±ì‹œì— ì§€ì •ëœ git repo ë¥¼ clone í•œ í›„, ë””ìŠ¤í¬ ìƒì„±
      - emptyDir -> git clone ì´ë¼ë³´ë©´ ë¨
    - ê·¸ ì™¸ í´ë¼ìš°ë“œ ì„œë¹„ìŠ¤ ë³„ë¡œ ë” ìˆìŒ.

```yaml
apiVersion: v1
kind: Pod
metadata:
  name: shared-volumes
spec:
  containers:
    - name: redis
      image: redis
      volumeMounts:
        - name: shared-storage
          mountPath: /data/shared
    - name: nginx
      image: nginx
      volumeMounts:
        - name: shared-storage
          mountPath: /data/shared
  volumes:
    - name: shared-storage
      emptyDir: {}
```

- Service

  - ì—¬ëŸ¬ ê°œì˜ Podë“¤ì„ ì„œë¹„ìŠ¤í•  ë•Œ, í˜„ì¬ ìš”ì²­ì´ ì–´ëŠ Pod ìœ¼ë¡œ ê°ˆì§€ ì„ íƒí•˜ëŠ” ì˜¤ë¸Œì íŠ¸
  - ë¶€í•˜ê°€ ë§ì„ ë•Œ ì´ë¥¼ ë¶„ì‚°ì‹œí‚¤ëŠ” ë¡œë“œë°¸ëŸ°ì„œ ì—­í• 
  - ë™ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” Podë“¤ì˜ ë™ì  IPì™€ ë‹¬ë¦¬ ServiceëŠ” ì§€ì •ëœ IP ë¡œ ìƒì„±ê°€ëŠ¥

  - ê¸°ëŠ¥
    - ë©€í‹° í¬íŠ¸ ì§€ì›
      - ì˜ˆë¥¼ ë“¤ì–´ 80 -> 8080 ìœ¼ë¡œ, 443 -> 8082 ë¡œ ê°€ë„ë¡ í•œë²ˆì— ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
    - ë¡œë“œ ë°¸ëŸ°ì‹±
      - ë¶€í•˜(íŠ¸ë˜í”½)ë¥¼ ì—¬ëŸ¬ Pod ìœ¼ë¡œ ë¶„ì‚°í•œë‹¤.
      - Pod ì€ ê¸°ë³¸ì ìœ¼ë¡œ ëœë¤í•˜ê²Œ ì„ íƒëœë‹¤.
    - IP ì£¼ì†Œ í• ë‹¹ ë°©ì‹ê³¼ ì—°ë™ ì„œë¹„ìŠ¤ì— ë”°ë¥¸ Type
      - Cluster IP
        - ë””í´íŠ¸ ê°’
        - ì„œë¹„ìŠ¤ì— í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ IP ë¥¼ í• ë‹¹
        - ì¦‰ í´ëŸ¬ìŠ¤í„° ë‚´ë¶€ ì ‘ê·¼ O, ì™¸ë¶€ ì ‘ê·¼ X
      - Load Balancer
        - ì™¸ë¶€ IP ë¥¼ ê°€ì§€ê³  ìˆëŠ” ë¡œë“œë°¸ëŸ°ì„œë¥¼ í• ë‹¹
        - ì¦‰ ì™¸ë¶€ ì ‘ê·¼ O
      - NodePort
        - í´ëŸ¬ìŠ¤í„° ë‚´ ë…¸ë“œì˜ ip:port ë¡œë„ ì ‘ê·¼ê°€ëŠ¥í•˜ê²Œ í•¨
        - ex. curl 10.146.0.10:30036
        - 10.146.0.10 ëŠ” ë…¸ë“œì˜ ip ê³ , 30036 ëŠ” NodePort ë¡œ ì„¤ì •í•œ í¬íŠ¸ì„
      - ExternalName
        - ì™¸ë¶€ ì„œë¹„ìŠ¤ë¥¼ ì¿ ë„¤í„°ë„¤ìŠ¤ ë‚´ë¶€ì—ì„œ í˜¸ì¶œí•˜ê³ ì í•  ë•Œ ì‚¬ìš©
        - ëª¨ë“  Pod ë“¤ì€ Cluster IP ë¥¼ ê°€ì§€ê³  ìˆê¸° ë•Œë¬¸ì—, ì™¸ë¶€ì—ì„œë„ ì ‘ê·¼ì´ ê°€ëŠ¥í•¨.
        - ìš”ì²­ -> (ì™¸ë¶€ ì„œë¹„ìŠ¤) -> í´ëŸ¬ìŠ¤í„° ë‚´ ì¿ ë²„ë„¤í‹°ìŠ¤. ì¼ì¢…ì˜ í”„ë¡ì‹œ ì—­í• 
    - headless ì„œë¹„ìŠ¤
      - ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ ì†”ë£¨ì…˜ì„ ì œê³µí•˜ëŠ” ê²½ìš°, ì„œë¹„ìŠ¤ì˜ IP ê°€ í•„ìš” ì—†ìŒ
      - clusterIP: None ìœ¼ë¡œ ì£¼ë©´ ëœë‹¤.
    - External IP
      - ì„œë¹„ìŠ¤ì— ë³„ë„ì˜ ì™¸ë¶€ IP ë¥¼ ì§€ì •í•´ì¤„ ìˆ˜ ìˆìŒ

- Controller
  - yaml í¬ë§·ìœ¼ë¡œ ì •ì˜
  - ì—¬ëŸ¬ ê°œì˜ Pod ë°°í¬ë¥¼ ì ì ˆí•˜ê²Œ ê´€ë¦¬í•˜ëŠ” ì˜¤ë¸Œì íŠ¸
    - Podë“¤ì„ ìƒì„±, ì‚­ì œí•¨.
      - Replication Controller
        - ì§€ì •ëœ ìˆ«ìë¡œ Pod ì„ ê¸°ë™ ì‹œí‚¤ê³  ê´€ë¦¬í•œë‹¤.
        - selector, replicas, template ì„ ê¸°ë³¸ì ìœ¼ë¡œ ì •ì˜í•´ì•¼ í•œë‹¤.
        - selector : label ê¸°ì¤€ìœ¼ë¡œ ì–´ë–¤ Pod ë“¤ì„ ê´€ë¦¬í• ì§€ ì •ì˜í•œë‹¤.
        - replicas : ì„ íƒëœ Pod ë“¤ì„ ëª‡ ê°œì˜ ì¸ìŠ¤í„´ìŠ¤ë¡œ ë„ìš¸ì§€ ì •ì˜í•œë‹¤.
        - template : Pod ì„ ì¶”ê°€ë¡œ ê¸°ë™í•  ë•Œ, ì–´ë–¤ Pod ì„ ë§Œë“¤ì§€ ì •ì˜í•œë‹¤.
      - Replication Set
        - ReplicationController ëŠ” Equailty ê¸°ë°˜ Selectorë¥¼ ì‚¬ìš©
        - ReplicaSet ëŠ” Set ê¸°ë°˜ Selector ë¥¼ ì‚¬ìš©í•œë‹¤.
    - Deployment
      - ReplicationController ì™€ ReplicaSet ì„ ì¢€ë” ì¶”ìƒí™”í•œ ê°œë…
      - ì‹¤ì œ ë°°í¬í•  ë•ŒëŠ” ì´ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì£¼ë¡œ ì‚¬ìš©
    - DaemonSet
      - Pod ì´ ê°ê°ì˜ ë…¸ë“œì—ì„œ í•˜ë‚˜ì”©ë§Œ ëŒê²Œ í•œë‹¤. (ê· ë“±í•˜ê²Œ ë°°í¬)
      - ë³´í†µ ì„œë²„ ëª¨ë‹ˆí„°ë§ì´ë‚˜ ë¡œê·¸ ìˆ˜ì§‘ ìš©ë„
      - ëª¨ë“  ë…¸ë“œê°€ ì•„ë‹Œ íŠ¹ì • ë…¸ë“œë“¤ë§Œ ì„ íƒí•  ìˆ˜ë„ ìˆë‹¤.
    - Job
      - í•œë²ˆ ì‹¤í–‰ë˜ê³  ëë‚˜ëŠ” Pod ì„ ê´€ë¦¬í•œë‹¤.
      - Job ì»¨íŠ¸ë¡¤ëŸ¬ê°€ ì¢…ë£Œë˜ë©´ Pod ë„ ê°™ì´ ì¢…ë£Œí•œë‹¤.
      - ì»¨í…Œì´ë„ˆì—ì„œ Job ì„ ìˆ˜í–‰í•˜ê¸° ìœ„í•œ ë³„ë„ì˜ command ë¥¼ ì¤€ë‹¤.
      - Job command ì˜ ì„±ê³µ ì—¬ë¶€ë¥¼ ë°›ì•„ ì¬ì‹¤í–‰ ë˜ëŠ” ì¢…ë£Œì—¬ë¶€ë¥¼ ê²°ì •í•œë‹¤.
    - CronJob
      - ì£¼ê¸°ì ìœ¼ë¡œ ëŒì•„ì•¼í•˜ëŠ”(ë°°ì¹˜) Pod ì„ ê´€ë¦¬í•œë‹¤.
      - ë³„ë„ì˜ schedule ì„ ì •ì˜í•´ì•„ í•œë‹¤.
    - Stateful
      - DBì™€ ê°™ì´ ìƒíƒœë¥¼ ê°€ì§€ëŠ” Pod ì„ ê´€ë¦¬í•œë‹¤.

```yaml
apiVersion: v1
kind: ReplicationController
metadata:
  name: nginx
spec:
  replicas: 3
  selector:
    app: nginx
  template:
    metadata:
      name: nginx
      labels:
        app: nginx
      spec:
        containers:
          - name: nginx
            image: nginx
            ports:
              - containerPort: 80
```

- Ingress

  - api ê²Œì´íŠ¸ ì›¨ì´. **url ê¸°ë°˜ ë¼ìš°íŒ…** ì—­í• ë¡œ Service ì•ì— ë¶™ìŒ
  - Service ì•ì— ë‹¬ ê²½ìš° ServiceëŠ” `NodePort`íƒ€ì…ìœ¼ë¡œ ì„ ì–¸

- ë„¤ì„ ìŠ¤í˜ì´ìŠ¤

  - í•œ í´ëŸ¬ìŠ¤í„° ë‚´ì— ë…¼ë¦¬ì ì¸ ë¶„ë¦¬ ë‹¨ìœ„
  - ì˜ˆë¥¼ ë“¤ë©´ `namespace:billing` ê³¼ `namespace:commerce` ëŠ” ê°™ì€ í´ëŸ¬ìŠ¤í„° ë‚´ì— ìˆì§€ë§Œ ë…¼ë¦¬ì ìœ¼ë¡œ ë¶„ë¦¬ë¨í•œ í´ëŸ¬ìŠ¤í„° ìì›ì„ ê°€ì§€ê³  ê°œë°œ / ìš´ì˜ / í…ŒìŠ¤íŠ¸ ì‹ìœ¼ë¡œ ë‚˜ëˆŒ ìˆ˜ ìˆìŒ.

- ë¼ë²¨
  - ë¦¬ì†ŒìŠ¤ë¥¼ ì„ íƒí•˜ëŠ”ë° ì‚¬ìš©ë¨
  - ì˜ˆë¥¼ ë“¤ë©´ Pod ì•ˆì— ë‹¤ìŒê³¼ ê°™ì´ ë¼ë²¨ì„ ë‹¬ ìˆ˜ ìˆìŒ.

```yaml
kind: Pod
    ...
    metadata:
        labels:
            app: myapp
```

```yaml
kind: Service
    ...
    spec:
        selector:
            app: myapp
```

### ì•„í‚¤í…ì²˜

- ë§ˆìŠ¤í„°

  - API ì„œë²„
    - ëª¨ë“  ëª…ë ¹ê³¼ í†µì‹ ì„ REST API ë¡œ ì œê³µ
  - Etcd
    - ë¶„ì‚°í˜• í‚¤-ë°¸ë¥˜ ìŠ¤í† ì–´ë¡œ, ì¿ ë²„ë„¤í‹°ìŠ¤ í´ëŸ¬ìŠ¤í„° ìƒíƒœë‚˜ ì„¤ì • ì •ë³´ ì €ì¥
  - ìŠ¤ì¼€ì¥´ëŸ¬
    - Pod, Service ë“± ê° ë¦¬ì†ŒìŠ¤ë¥¼ ì ì ˆí•œ ë…¸ë“œì— í• ë‹¹
  - ì»¨íŠ¸ë¡¤ëŸ¬ ë§¤ë‹ˆì €
    - ì»¨íŠ¸ë¡¤ëŸ¬ë“¤ì„ ìƒì‚°, ë°°í¬ ë“± ê´€ë¦¬
  - DNS
    - ë™ì ìœ¼ë¡œ ìƒì„±ë˜ëŠ” Pod, Service ë“±ì˜ IP ë¥¼ ë‹´ëŠ” DNS

- ë…¸ë“œ
  - Kubelet
    - ë§ˆìŠ¤í„° API ì„œë²„ì™€ í†µì‹ í•˜ëŠ” ë…¸ë“œ ì—ì´ì „íŠ¸
  - Kube-proxy
    - ë…¸ë“œë¡œ ì˜¤ëŠ” ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ì„ ì ì ˆí•œ ì»¨í…Œì´ë„ˆë¡œ ë¼ìš°íŒ…
    - ë„¤íŠ¸ì›Œí¬ íŠ¸ë˜í”½ í”„ë¡ì‹œ ë“± ë…¸ë“œ-ë§ˆìŠ¤í„°ê°„ ë„¤íŠ¸ì›Œí¬ í†µì‹  ê´€ë¦¬
  - Container runtime
    - ì»¨í…Œì´ë„ˆë¥¼ ì‹¤í–‰ (ex. dcoker)
  - cAdvisor
    - ê° ë…¸ë“œ ë‚´ ëª¨ë‹ˆí„°ë§ ì—ì´ì „íŠ¸
    - ë…¸ë“œ ë‚´ ì»¨í…Œì´ë„ˆë“¤ì˜ ìƒíƒœ, ì„±ëŠ¥ ìˆ˜ì§‘í•˜ì—¬ ë§ˆìŠ¤í„° APIì„œë²„ì— ì „ë‹¬

### ê¸°ëŠ¥

- ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬ì™€ ë¡œë“œ ë°¸ëŸ°ì‹±
- ìŠ¤í† ë¦¬ì§€ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜
- ìë™í™”ëœ ë¡¤ì•„ì›ƒê³¼ ë¡¤ë°±
- ìë™í™”ëœ ë¹ˆ íŒ¨í‚¹
- ìë™í™”ëœ ë³µêµ¬
- ì‹œí¬ë¦¿ê³¼ êµ¬ì„± ê´€ë¦¬

---

# PS

- Set Mismatch

```cpp
class Solution {
public:
    vector<int> findErrorNums(vector<int>& nums) {
        vector<int> v(2);
        int n = nums.size();
        long long int dif = accumulate(nums.begin(), nums.end(), 0);
        long long int sum = (n * (n+1)) / 2;
        set<int> s;
        for(int i=0; i<n; i++) {
            if(s.find(nums[i]) != s.end()) {
                v[0] = nums[i];
                break;
            }
            s.insert(nums[i]);
        }

        v[1] = v[0] - (dif - sum);
        return v;
    }
};
```

1ë¶€í„° nê¹Œì§€ì˜ ìˆ«ìê°€ ìˆì„ ë•Œ ì˜¤ë¥˜ê°€ ë‚˜ì„œ í•œ ìˆ«ìê°€ ë‘ë²ˆ ë°˜ë³µë˜ê³  í•œ ìˆ«ìê°€ ëˆ„ë½ëœ ë¬¸ì œì´ë‹¤. ë”°ë¼ì„œ 1~nê¹Œì§€ì˜ í•©ê³¼ í˜„ì¬ ì£¼ì–´ì§„ ë°°ì—´ì˜ í•©ì„ accumulate()ë¥¼ ì´ìš©í•´ì„œ êµ¬í•œë‹¤.

setì„ ì´ìš©í•´ì„œ ì¤‘ë³µëœ ê°’ì„ ì°¾ê³  ë°°ì—´ì˜ í•©ê³¼ 1~nì˜ í•©ì„ ì´ìš©í•´ì„œ ì°¨ì´ ê°’ì„ êµ¬í•´ì¤€ë‹¤.

---

- 3 æ—¥

# PS

- Missing Number

```cpp
class Solution {
public:
    int missingNumber(vector<int>& nums) {
        long long int diff = accumulate(nums.begin(), nums.end(), 0);
        long long int sum = (nums.size() * (nums.size()+1)) / 2;
        return sum - diff;
    }
};
```

ë²¡í„° ì¤‘ ë¹ ì§„ ìˆ«ìë¥¼ ì°¾ëŠ” ë¬¸ì œì´ë‹¤. 0 ~ n-1ê¹Œì§€ì˜ ìˆ«ìê°€ ì£¼ì–´ì§€ê³  ë¹ ì§„ ìˆ«ìë¥¼ ì°¾ìœ¼ë©´ ëœë‹¤.

ë”°ë¼ì„œ ë²¡í„°ì˜ í¬ê¸°ë§Œí¼ì˜ í•©ì„ êµ¬í•˜ê³  ì£¼ì–´ì§„ ë²¡í„°ë“¤ì˜ í•©ì„ êµ¬í•´ì„œ ê·¸ ì°¨ì´ë¥¼ ë°˜í™˜í•˜ë©´ ëœë‹¤.

---

- 4 æ—¥

- Intersection of Two Linked Lists

```cpp
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode(int x) : val(x), next(NULL) {}
 * };
 */
class Solution {
public:
    ListNode *getIntersectionNode(ListNode *headA, ListNode *headB) {
        ListNode *ptr1 = headA;
        ListNode *ptr2 = headB;
        if(!ptr1 || !ptr2)
            return nullptr;
        while (ptr1 != ptr2) {
            ptr1 = ptr1->next;
            ptr2 = ptr2->next;
            if (ptr1 == ptr2)
                return ptr1;
            if (ptr1 == NULL)
                ptr1 = headB;
            if (ptr2 == NULL)
                ptr2 = headA;
        }
        return ptr1;
    }
};
```

ì—°ê²°ë¦¬ìŠ¤íŠ¸ ë‘ ê°œê°€ ìˆì„ ë•Œ ë‘ ë¦¬ìŠ¤íŠ¸ê°€ ê²¹ì³ì§ˆ ë•Œë¥¼ ì°¾ëŠ” ë¬¸ì œì´ë‹¤. ë”°ë¼ì„œ ë¦¬ìŠ¤íŠ¸ë“¤ì„ ëê¹Œì§€ ë³´ë‚¸ ë‹¤ìŒ ë§ˆì§€ë§‰ì— nullì´ë¼ë©´ ë‹¤ë¥¸ ë¦¬ìŠ¤íŠ¸ì˜ í—¤ë“œë¥¼ ë¶™ì—¬ì„œ ë‘ ë¦¬ìŠ¤íŠ¸ê°€ ê°™ë„ë¡ í•œ ë’¤, ëê¹Œì§€ ê°„ ê²½ìš°ì—ëŠ” ë‘ ë¦¬ìŠ¤íŠ¸ì˜ í¬ê¸°ê°€ ê°™ì•„ì§€ë¯€ë¡œ ë§ˆì§€ë§‰ì—ëŠ” nullì´ ë‚˜ì˜¤ê²Œ ëœë‹¤. ì´ ë•Œ ê°™ì´ nullì´ë¼ë©´ í•´ë‹¹ nullì„ ë¦¬í„´í•˜ë©´ ëœë‹¤. ì´ì™¸ì—ëŠ” ì´ë¯¸ ê²¹ì³ì¡Œìœ¼ë¯€ë¡œ í˜„ì¬ êµ¬ì¡°ì²´ë¥¼ ë°”ë¡œ ë¦¬í„´í•´ì£¼ë©´ ëœë‹¤.

---

- 5 æ—¥

# PS

- Average of Levels in Binary Tree

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
private:
    vector<pair<long,long>> v;
public:
    void level(TreeNode* node, int cnt) {
        if(node == NULL)
            return;
        if(v.size() <= cnt) {
            v.push_back({node->val, 1});
        } else {
            v[cnt].first += node->val;
            v[cnt].second++;
        }
        level(node->left, cnt+1);
        level(node->right, cnt+1);
    }

    vector<double> averageOfLevels(TreeNode* root) {
        level(root, 0);
        vector<double> ans;
        for(int i=0; i<v.size(); i++) {
            ans.push_back(double(v[i].first) / v[i].second);
        }
        return ans;
    }
};
```

ì´ì§„ íŠ¸ë¦¬ê°€ ì£¼ì–´ì¡Œì„ ë•Œ íŠ¸ë¦¬ì˜ ë ˆë²¨ì— ê°’ë“¤ì˜ í‰ê· ì„ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹¤. ë”°ë¼ì„œ ì¬ê·€ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ìì‹ ë…¸ë“œë“¤ì„ ì°¾ì•„ê°”ìœ¼ë©°, ë²¡í„°ì— ë ˆë²¨ì— ë§ì¶°ì„œ í•´ë‹¹ ê°’ì„ ë‹¤ ë”í•´ì¤€ ë’¤ í‰ê· ì„ êµ¬í•˜ë„ë¡ í•˜ì˜€ë‹¤.

ICT ì¸í„´ì‹­ì„ ì‹œì‘í•˜ì—¬ ê±°ì˜ PS ìœ„ì£¼ë¡œë§Œ ì§„í–‰ì´ ë  ê²ƒ ê°™ë‹¤.

---

- 6 æ—¥

# Short Encoding of Words

```cpp
class Solution {
public:
    int minimumLengthEncoding(vector<string>& words) {
        set<string> s(words.begin(), words.end());
        for (string word : words)
            if (s.find(word) != s.end())
                for (int i = 1; i < word.length(); i++) {
                    s.erase(word.substr(i));
                }
        int ans = s.size();
        for (string word : s)
            ans += word.size();
        return ans;
    }
};
```

ì£¼ì–´ì§„ ë‹¨ì–´ë“¤ ë§ˆë‹¤ ë’¤ì— `#`ì„ ë¶™ì—¬ì„œ ë¬¸ìì—´ì„ ë§Œë“¤ì—ˆì„ ë•Œì˜ ê¸¸ì´ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹¤.

ë‹¨ì–´ ì¤‘ ê²¹ì¹˜ëŠ” ë‹¨ì–´ê°€ ìˆë‹¤ë©´ ê·¸ ì¤‘ í° ë‹¨ì–´ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•˜ë‚˜ë§Œ ì²´í¬í•˜ë©´ ëœë‹¤.

ë”°ë¼ì„œ setì— ë‹¨ì–´ë“¤ì„ ë„£ì€ ë’¤ ë‹¨ì–´ë¥¼ ì¸ë±ìŠ¤ 1ë¶€í„° ëê¹Œì§€ì˜ ë¶€ë¶„ ë¬¸ìì—´ì„ êµ¬í•´ì„œ setì— ìˆëŠ”ì§€ í™•ì¸í•œë‹¤.

ë§Œì•½, ìˆë‹¤ë©´ í•´ë‹¹ ë‹¨ì–´ë¥¼ setì—ì„œ ì§€ì›Œì¤€ë‹¤. ê·¸ë ‡ê²Œí•˜ë©´ setì˜ í¬ê¸°ëŠ” `#`ì˜ ê°¯ìˆ˜ì´ë©°, setì˜ ë‚¨ì•„ìˆëŠ” ë¬¸ìë“¤ì€ ë¬¸ìì—´ì— í¬í•¨ë˜ëŠ” ë¬¸ìë“¤ì´ë‹¤. ë”°ë¼ì„œ í•´ë‹¹ ë¬¸ì ê¸¸ì´ë“¤ì„ ì‡ëŠ”ë‹¤ë©´ ë‹µì´ ëœë‹¤.

---

- 7 æ—¥

# PS

- Design HashMap

```cpp
class MyHashMap {
public:
    vector<pair<int, int>> v;

    MyHashMap() {
        v;
    }

    void put(int key, int value) {
        bool isExist = false;
        for(int i=0; i<v.size(); i++) {
            if(v[i].first == key) {
                isExist = true;
                v[i].second = value;
                break;
            }
        }
        if(!isExist) {
            v.push_back({key, value});
        }
    }

    int get(int key) {
        for(int i=0; i<v.size(); i++) {
            if(v[i].first == key) {
                return v[i].second;
            }
        }
        return -1;
    }

    void remove(int key) {
        for(int i=0; i<v.size(); i++) {
            if(v[i].first == key) {
                v.erase(v.begin() + i);
                break;
            }
        }
    }
};
```

hashMapì„ êµ¬í˜„í•˜ëŠ” ë¬¸ì œë¡œ, ë¬¸ì œì—ì„œ ì›í•˜ëŠ” ë¶€ë¶„ì„ ì§ê´€ì ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ë‹¤.

---

# ì •ë³´ì²˜ë¦¬ê¸°ì‚¬ í•„ê¸°

ì´ë²ˆì— 2021 ì •ê¸° ê¸°ì‚¬ 1íšŒ ì •ë³´ì²˜ë¦¬ê¸°ì‚¬ í•„ê¸°ì— ì‘ì‹œí•˜ì˜€ë‹¤.

ì „ì²´ì ì¸ ë‚œì´ë„ëŠ” ë‚®ì•˜ìœ¼ë©°, 1-2 ê³¼ëª©ì— ê²½ìš°ì—ëŠ” ê³¼ë…„ë„ ë¬¸ì œì™€ ë§¤ìš° ìœ ì‚¬í–ˆë‹¤. 3-4 ê³¼ëª©ì— ê²½ìš°ì—ëŠ” ëŒ€í•™ì—ì„œ ì§„í–‰í•œ ê°•ì˜ë¥¼ ë“¤ì—ˆë‹¤ë©´ ë§¤ìš° ì‰½ê²Œ í’€ ìˆ˜ ìˆì—ˆë‹¤. ê·¸ì— ë°˜í•´ 5 ê³¼ëª©ì€ ë“¤ì–´ë³¸ ë‚´ìš©ë„ ìˆì§€ë§Œ í—·ê°ˆë¦¬ê±°ë‚˜ ì²˜ìŒ ë³´ëŠ” ë‚´ìš©ì´ ê½¤ë‚˜ ë§ì•˜ë‹¤.

ê¸°ì¶œë¬¸ì œë§Œ ì—¬ëŸ¬ë²ˆ í’€ì–´ë³´ê³  ì‹œí—˜ì„ ì‘ì‹œí–ˆë˜ ê±°ì— ë¹„í•´ ë†’ì€ ì ìˆ˜ë¥¼ ë°›ì„ ìˆ˜ ìˆì—ˆë‹¤. 5 ê³¼ëª©ë„ í¬ê²Œ í‹€ë¦° ë¶€ë¶„ì€ ì—†ì—ˆì§€ë§Œ ê¸°ì–µí•˜ë©´ ë‚˜ì  ê±´ ì—†ì–´ë³´ì˜€ë‹¤.

---

- 8 æ—¥

# PS

- Remove Palindromic Subsequences

```cpp
class Solution {
public:
    int removePalindromeSub(string s) {
         return 2 - (s == string(s.rbegin(), s.rend())) - s.empty();
    }
};
```

íŒ°ë¦°ë“œë¡¬ì´ë¼ë©´ 1ì„ ë¹¼ê³  ë¬¸ìì—´ì´ ë¹„ì–´ìˆìœ¼ë©´ 1ì„ ë˜ ë¹¼ì£¼ëŠ” ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ë‹¤.

---

# ì¿ ë²„ë„¤í‹°ìŠ¤

- [ë ˆí¼ëŸ°ìŠ¤](https://bcho.tistory.com/1255?category=731548)

ì¡°ëŒ€í˜‘ë‹˜ ë¸”ë¡œê·¸ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì¿ ë²„ë„¤í‹°ìŠ¤ ê³µë¶€ë¥¼ í•˜ê³  ìˆë‹¤. ì •ë¦¬ê°€ ë§¤ìš° ì˜ ë˜ì–´ ìˆì–´ì„œ í¬ê²Œ ë„ì›€ì´ ëœë‹¤.

Google Cloud Platformì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ ì‚¬ìš©í•˜ëŠ” ê²ƒê³¼ bitbucketì˜ íŒŒì´í”„ë¼ì¸ì„ ì´ìš©í•œ CI/CDë¥¼ ì§„í–‰í•´ë³´ì•˜ë‹¤. CI/CDì˜ ê²½ìš°ì—ëŠ” ë‹¤ë¥¸ íˆ´ê³¼ ê°™ì´ yamlì„ ì´ìš©í•´ì„œ ì •ì˜í•œ ë’¤ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

ì¿ ë²„ë„¤í‹°ìŠ¤ëŠ” kubectlì„ ì´ìš©í•œ ì—¬ëŸ¬ ëª…ë ¹ì–´ë¥¼ ì‚¬ìš©í•´ë³´ì•˜ë‹¤. ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ ì—°ê²°í•˜ëŠ” ë¶€ë¶„, ë‚´ìš©ì„ ê³ ì¹˜ê³  ì¿ ë²„ë„¤í‹°ìŠ¤ì— íŒŒì¼ì„ ì˜¬ë¦¬ëŠ” ë¶€ë¶„ì„ í•´ë³´ì•˜ë‹¤.

- `kubectl apply -f ê²½ë¡œ`ë¥¼ ì´ìš©í•˜ë©´ íŒŒì¼ì„ ì§ì ‘ ë°”ë¡œ ì˜¬ë¦´ ìˆ˜ ìˆë‹¤.

ë‹¹ì—°í•œ ì´ì•¼ê¸°ì§€ë§Œ ì–´ë–¤ ëª…ë ¹ì–´ë“  ì—°ê²°ì´ ë˜ì–´ì•¼ ê°€ëŠ¥í•˜ë‹¤. ì´ ë¶€ë¶„ì—ì„  GCPë¥¼ ì‚¬ìš©í•´ì„œ ì—°ê²°í–ˆìœ¼ë¯€ë¡œ, SDK ì„¤ì¹˜í•˜ê³  ì¿ ë²„ë„¤í‹°ìŠ¤ì™€ ì—°ë™ì´ í•„ìš”í•˜ì˜€ë‹¤.

- `kubectl proxy`ë¥¼ ì´ìš©í•˜ë©´ ì¿ ë²„ë„¤í‹°ìŠ¤ ëŒ€ì‹œë³´ë“œë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

---

- 9 æ—¥

# ì¿ ë²„ë„¤í‹°ìŠ¤

## ì¸ê·¸ë ˆìŠ¤ ì„¤ì¹˜

GCPë¥¼ ì‚¬ìš©í–ˆì„ ë•Œ ì¸ê·¸ë ˆìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì„¤ì¹˜í•˜ëŠ” ë²•ì„ ì•Œì•„ë³´ì.

### ì¸ê·¸ë ˆìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬ ì„¤ì¹˜

`kubectl apply -f https://raw.githubusercontent.com/kubernetes/ingress-nginx/controller-v0.44.0/deploy/static/provider/cloud/deploy.yaml`

í•´ë‹¹ ëª…ë ¹ì–´ë¥¼ í†µí•´ì„œ GCPì—ì„œ ingress contollerë¥¼ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

### ì¸ê·¸ë ˆìŠ¤

```yaml
apiVersion: extensions/v1beta1
kind: Ingress
metadata:
  name: test
  annotations:
    nginx.ingress.kubernetes.io/rewrite-target: /
spec:
  rules:
    - host: foo.bar.com
      http:
        paths:
          - path: /foo
            backend:
              serviceName: svc1
              servicePort: 80
          - path: /bar
            backend:
              serviceName: svc2
              servicePort: 80
```

ì¸ê·¸ë ˆìŠ¤ ì»¨íŠ¸ë¡¤ëŸ¬ëŠ” ê·œì¹™ì„ ê´€ë¦¬í•˜ëŠ” ì„œë²„ì´ë¯€ë¡œ ì‹¤ì œë¡œ ì¸ê·¸ë ˆìŠ¤ë¥¼ ë§Œë“¤ì–´ì•¼í•œë‹¤. ê·¸ëŸ¬ë¯€ë¡œ yamlìœ¼ë¡œ ì¸ê·¸ë ˆìŠ¤ë¥¼ ì •ì˜í•œë‹¤. backendë¶€ë¶„ì—ì„œ í•´ë‹¹ ë„ë©”ì¸ê³¼ ì„œë¹„ìŠ¤ë¥¼ ì—°ê²°í•  ìˆ˜ ìˆë‹¤.

---

# PS

- Add One Row to Tree

```cpp
/**
 * Definition for a binary tree node.
 * struct TreeNode {
 *     int val;
 *     TreeNode *left;
 *     TreeNode *right;
 *     TreeNode() : val(0), left(nullptr), right(nullptr) {}
 *     TreeNode(int x) : val(x), left(nullptr), right(nullptr) {}
 *     TreeNode(int x, TreeNode *left, TreeNode *right) : val(x), left(left), right(right) {}
 * };
 */
class Solution {
public:
    TreeNode* addOneRow(TreeNode* root, int v, int d) {
        if(d==1){
            TreeNode *ptr = new TreeNode(v, root, nullptr);
            return ptr;
        }

        addRow(root, v, d-1);

        return root;
    }

    void addRow(TreeNode* parent, int v, int dep){
        if(!parent)
            return;

        if(dep==1){
            TreeNode *temp;

            temp = parent->left;
            parent->left = new TreeNode(v);
            parent->left->left = temp;

            temp = parent->right;
            parent->right = new TreeNode(v);
            parent->right->right = temp;
        }
        else{
            addRow(parent->left, v, dep-1);
            addRow(parent->right, v, dep-1);
        }
    }
};
```

dì™€ vê°€ ì£¼ì–´ì§€ë©´ í•´ë‹¹ depthì— vì˜ ê°’ì„ ë‹¤ ë„£ì–´ì£¼ëŠ” ë¬¸ì œì´ë‹¤.

ë”°ë¼ì„œ ì¬ê·€ë¥¼ í†µí•´ì„œ í•´ë‹¹ ê¹Šì´ì— ë„ì°©í•˜ë©´ vì˜ ê°’ì„ ë„£ì–´ì£¼ê³  ì›ë˜ ê¹Šì´ì˜ ê°’ì„ ìì‹ìœ¼ë¡œ ì´ì–´ì£¼ë©´ ëœë‹¤.

---

# Go

## Go PATH

Window ê¸°ì¤€ `C:/go` MAC ê¸°ì¤€ `Local/go`ìœ¼ë¡œ ìë™ìœ¼ë¡œ ë§Œë“¤ì–´ì§€ëŠ” ë””ë ‰í„°ë¦¬ë¥¼ ì‚¬ìš©í•´ì•¼í•œë‹¤. í•´ë‹¹ í´ë” ì•ˆì— `/src/íŒ¨í‚¤ì§€ëª…`ì„ í†µí•´ì„œ golangì„ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì»´íŒŒì¼ì€ ì˜¤ì§ `main.go`ë§Œ ê°€ëŠ¥í•˜ë©°, ë‚˜ë¨¸ì§€ëŠ” íŒ¨í‚¤ì§€ë¥¼ ë™ì¼í•˜ê²Œ ì“´ë‹¤ë©´ mainì—ì„œ ê°€ì ¸ë‹¤ê°€ ì“¸ ìˆ˜ ìˆë‹¤.

ì´ ë•Œ ë‹¤ë¥¸ ì–¸ì–´ì—ì„œ Exportí•˜ëŠ” ê²ƒì„ golangì—ì„œëŠ” íŒ¨í‚¤ì§€ ë‚´ì˜ ëŒ€ë¬¸ìë¡œ ì‹œì‘í•˜ëŠ” í•¨ìˆ˜ì— ëŒ€í•´ì„œë§Œ ì¸ì •í•´ì¤€ë‹¤. ì¦‰, ë‹¤ë¥¸ ëª…ì‹œ í•„ìš”ì—†ì´ í•¨ìˆ˜ì˜ ì²« ìê°€ ëŒ€ë¬¸ìë©´ í•´ë‹¹ í•¨ìˆ˜ëŠ” íŒ¨í‚¤ì§€ ì† ë‹¤ë¥¸ íŒŒì¼ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.

## ë³€ìˆ˜ì™€ ìƒìˆ˜

```go
var name string = "lee20h"
name := "lee20h"
const name string = "lee20h"
```

ì½”ë“œë¡œ ë¨¼ì € ì´í•´í•˜ìë©´ ìœ„ì™€ ê°™ë‹¤. ìƒìˆ˜ì™€ ë³€ìˆ˜ì˜ ê°œë…ìœ¼ë¡œ JavaScriptê°€ ìƒê°ë‚˜ëŠ” ë¬¸ë²•ì´ë‹¤. golangì€ pythonì´ë‚˜ JSì™€ ë‹¬ë¦¬ íƒ€ì…í˜• ì–¸ì–´ë¡œ, íƒ€ì…ì„ ëª…ì‹œí•´ì¤˜ì•¼í•œë‹¤. í•˜ì§€ë§Œ 1ë²ˆì§¸ ë¼ì¸ê³¼ 2ë²ˆì§¸ ë¼ì¸ì€ ê°™ì€ ì˜ë¯¸ë¥¼ ëœ»í•œë‹¤. varì™€ íƒ€ì…ëª…ì„ ì¶•ì•½ì‹œì¼œì„œ `:=`ì™€ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì´ë‹¤.

ì•ìœ¼ë¡œëŠ” ë§ì´ ì‚¬ìš©í•  ë¬¸ë²•ì´ë¯€ë¡œ ê¸°ì–µí•˜ë©´ ì¢‹ë‹¤.

---

- 10 æ—¥

# PS

- Integer to Roman

```cpp
class Solution {
public:
    string intToRoman(int num) {
         string m[] = {"", "M", "MM", "MMM"};
         string c[] = {"", "C", "CC", "CCC", "CD", "D",
                            "DC", "DCC", "DCCC", "CM"};
         string x[] = {"", "X", "XX", "XXX", "XL", "L",
                            "LX", "LXX", "LXXX", "XC"};
         string i[] = {"", "I", "II", "III", "IV", "V",
                            "VI", "VII", "VIII", "IX"};

         string thousands = m[num/1000];
         string hundereds = c[(num%1000)/100];
         string tens =  x[(num%100)/10];
         string ones = i[num%10];

         string ans = thousands + hundereds + tens + ones;

         return ans;
    }
};
```

ì •ìˆ˜ë¥¼ ë¡œë§ˆ ìˆ«ìë¡œ ë³€í™˜í•˜ëŠ” ë¬¸ì œì´ë‹¤. ì¼ì˜ ìë¦¬ë¶€í„° ì²œì˜ ìë¦¬ê¹Œì§€ ë‚˜ëˆˆ ë‹¤ìŒ ë§ëŠ” ë¡œë§ˆìë¥¼ ì—°ê²°í•´ì£¼ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í˜„í•˜ì˜€ë‹¤.

---

# RabbitMQ

Devopsì— ëŒ€í•´ ê³µë¶€í•˜ë©´ì„œ ì²˜ìŒ ì ‘í•œ íˆ´ì´ë‹¤. ì‰½ê²Œ ë§í•˜ë©´ ë©”ì‹œì§€ íë¥¼ ì‚¬ìš©í•˜ì—¬ ì• í”Œë¦¬ì¼€ì´ì…˜ê°„ì˜ ê²°í•©ë„ë¥¼ ë‚®ì¶”ê±°ë‚˜ ë©”ì‹œì§€ë¥¼ ì „ë‹¬í•˜ê³  ì§€ì—° ì‹œê°„ì´ ìƒê¸¸ ê²½ìš° ìš”ì²­ì„ ìœ„ì„í•˜ëŠ” ì—­í• ì„ í•´ì¤€ë‹¤.

ë§Œì•½ ë©”ì‹œì§€ ì‹œìŠ¤í…œì´ ì—†ë‹¤ë©´ ë¦¬ì–¼ íƒ€ì„ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ ìˆ˜ ì—†ë‹¤. ë©”ì‹œì§€ ì‹œìŠ¤í…œì˜ ì—”ë“œí¬ì¸íŠ¸ë¥¼ í†µí•´ì„œ ì£¼ê³  ë°›ê²Œ ë˜ë©´ ê´€ë¦¬ê°€ ì‰¬ì›Œì§€ê³  ëª¨ë“  ì• í”Œë¦¬ì¼€ì´ì…˜ì´ í†µí•©ëœ í”„ë¡œí† ì½œê³¼ ë°ì´í„° í¼ì„ ì‚¬ìš©í•˜ê²Œ ëœë‹¤. ê²Œë‹¤ê°€ RabbitMQëŠ” ì˜¤í”ˆì†ŒìŠ¤ë¡œ ê´€ë¦¬ë„ ì‰¬ìš´ ì¥ì ì´ ìˆë‹¤.

- Queue : ë©”ì„¸ì§€ë¥¼ ë‹´ì•„ë†“ëŠ” Buffer
- Exchnage : ë©”ì„¸ì§€ë¥¼ ì ì ˆí•œ Queueë¡œ ì˜®ê¸°ëŠ” Routing ì—­í• ì„ ìˆ˜í–‰
- Routing Key : Exchangeê°€ Routing í•  ë•Œ ì‚¬ìš©í•˜ëŠ” Key
- Binding : Exchangeì™€ Queueë¥¼ Linkí•˜ëŠ” ê²ƒ

- [ë‘ë‹¤ì§€ë‹˜ ë¸”ë¡œê·¸](https://blog.dudaji.com/general/2020/05/25/rabbitmq.html)
- [íŠœí† ë¦¬ì–¼](https://www.rabbitmq.com/getstarted.html)

---

- 11 æ—¥

# PS

- Coin Change

```cpp
class Solution {
public:
    int coinChange(vector<int>& coins, int amount) {
        int n = coins.size();
        vector<int> dp(amount+1, amount+1);

        dp[0] = 0;

        for(int coin : coins) {
            for (int j = coin; j <= amount; ++j) {
                dp[j] = min(dp[j], dp[j - coin] + 1);
            }

        }

        return dp[amount] > amount ? -1 : dp[amount];
    }
};
```

ì£¼ì–´ì§„ ë™ì „ ì•¡ìˆ˜ë¥¼ ê°€ì§€ê³  ê°€ì¥ ì ì€ ë™ì „ ìˆ˜ë¡œ amountë§Œí¼ì˜ ë§Œë“œëŠ” ë¬¸ì œì´ë‹¤. ë§Œì•½ ì¡´ì¬í•˜ì§€ ì•ŠëŠ”ë‹¤ë©´ -1ì„ ë°˜í™˜í•œë‹¤.

ê°€ì¥ ì ì€ ìˆ˜ë¥¼ êµ¬í•˜ê¸° ìœ„í•´ dpë¥¼ ì´ìš©í–ˆë‹¤. coinì„ ê¸°ì¤€ìœ¼ë¡œ amountê¹Œì§€ ê°’ì„ ë¹¼ë”ë¼ë„ ê°’ì„ êµ¬í•  ìˆ˜ ìˆëŠ” ì§€ í™•ì¸í•˜ëŠ” ì ˆì°¨ë¡œ dpë¥¼ ëŒë¦¬ê²Œ ë˜ë©´ ë‹µì´ ë‚˜ì˜¨ë‹¤.

---

- 12 æ—¥

# PS

- Check If a String Contains All Binary Codes of Size K

```cpp
class Solution {
public:
    bool hasAllCodes(string str, int k) {
        set<string> s;
        for(int i=0; i+k<=str.size(); i++) {
            s.insert(str.substr(i,k));
        }
        return s.size() == 1 << k;
    }
};
```

ì£¼ì–´ì§„ ë°”ì´ë„ˆë¦¬ ì½”ë“œì™€ í¬ê¸°ë¥¼ ê°€ì§€ê³  ë¶€ë¶„ ë¬¸ìì—´ì„ êµ¬í•œë‹¤ê³  í–ˆì„ ë•Œ ë¬¸ìì—´ì˜ ê°¯ìˆ˜ê°€ 2^k ê°€ ëœë‹¤ë©´ trueë¥¼ ë°˜í™˜í•´ì£¼ëŠ” ë¬¸ì œì˜€ë‹¤.

---

# Kustomize

ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì‚¬ìš©í•  ë•Œ ë²„ì „ê´€ë¦¬ë‚˜ í™˜ê²½ê´€ë¦¬ë¥¼ ì‰½ê²Œí•˜ê¸° ìœ„í•œ ë„êµ¬ì´ë‹¤.

```
base
  â”œâ”€â”€ Deployment
  â”‚â”€â”€ Kustomization
  â””â”€â”€Overlay
     â”‚ â”œâ”€â”€ Kustomization
     â”‚ â””â”€â”€ patch
     â”‚
     .
     .
     .
```

baseë¥¼ ê¸°ì¤€ìœ¼ë¡œ Overlayê°€ ë‚˜ë‰˜ì–´ì ¸ì„œ ê°ì í™˜ê²½ì— ë§ê²Œ Service, Deployment, ingress ë“± ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ objectë“¤ì„ ìœ ì§€í•  ìˆ˜ ìˆë‹¤.

baseì— ì£¼ì–´ì§„ ì˜¤ë¸Œì íŠ¸ë“¤ì„ ë‹¤ ì‚¬ìš©í•  ìˆ˜ë„ ìˆê³  ëª‡ ê°œë§Œ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìœ¼ë©° ê°ìê°€ ê°€ì§„ patchë¥¼ í†µí•´ì„œ ë²„ì „ì´ë‚˜ ë‚´ìš©ì„ ìˆ˜ì •í•  ìˆ˜ ìˆë‹¤.

`kubectl`ì— ì¶”ê°€í•´ì„œ ì‚¬ìš©í•˜ë©°, ì°¨íŠ¸ë¥¼ ì´ìš©í•´ì„œ ë°°í¬í•˜ê³  ì„¤ì¹˜ ë° íŒ¨í‚¤ì§•í•˜ëŠ” Helmê³¼ ë¹„ìŠ·í•˜ì—¬ ë‘˜ ì¤‘ í•˜ë‚˜ë¥¼ ê³¨ë¼ ì‚¬ìš©í•˜ëŠ” ê²½ìš°ê°€ ë§ë‹¤.

---

- 13 æ—¥

# PS

- Binary Trees With Factors

```cpp
class Solution {
private:
    int MOD = 1e9 + 7;
public:
    int numFactoredBinaryTrees(vector<int>& A) {
        sort(A.begin(), A.end());
        map<int, long> dp;

        long ret = 0;

        for (int i=0; i<A.size(); i++) {
            dp[A[i]] = 1;
            for (auto it=dp.begin(); it!=dp.end(); it++) {
                if (A[i] % it->first == 0 && dp.count(A[i]/it->first)) {
                    dp[A[i]] = (dp[A[i]] + it->second * dp[A[i]/it->first]) % MOD;
                }
            }
            ret = (ret + dp[A[i]]) % MOD;
        }

        return ret;
    }

};
```

ì£¼ì–´ì§„ ë°°ì—´ì„ ì´ìš©í•´ì„œ íŠ¸ë¦¬ë¥¼ ë§Œë“œëŠ”ë° ë¦¬í”„ë…¸ë“œê°€ ì•„ë‹Œ ë…¸ë“œë“¤ì€ ìì‹ë“¤ì˜ ê³±ì´ ë˜ì–´ì•¼í•œë‹¤ëŠ” ì¡°ê±´ì´ ìˆë‹¤.

ë”°ë¼ì„œ ë§µì„ í†µí•´ì„œ í•´ë‹¹ ê°’ì„ ì´ìš©í•˜ì—¬ ìì‹ ì˜ ë¶€ëª¨ê°€ ë  ìˆ˜ ìˆëŠ” ê²½ìš°ì˜ ìˆ˜ë¥¼ ì €ì¥í•œë‹¤.

---

# CS ë©´ì ‘ ì¤€ë¹„

## tree mapê³¼ hash map

Tree mapê³¼ Hash map ìë£Œêµ¬ì¡°ê°€ ìˆëŠ”ë° ë‘ mapì˜ ì°¨ì´ê°€ ìˆë‹¤.

### ì‹œê°„ë³µì¡ë„

- Tree map: O(logN)
- Hash map: O(1)

ì ‘ê·¼í•˜ëŠ” ì‹œê°„ë³µì¡ë„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì´ëŸ¬í•œ ì°¨ì´ê°€ ë‚œë‹¤. ê·¸ë ‡ë‹¤ë©´ ë¬´ì¡°ê±´ Hash mapì„ ì‚¬ìš©í•˜ëŠ”ê²Œ ë§ë‚˜ ì•Œì•„ë³´ì.

### ì°¨ì´ì 

- Tree mapì€ Keyë¥¼ ì •ë ¬í•˜ì§€ë§Œ, Hash mapì€ Keyë¥¼ ì •ë ¬í•˜ì§€ ì•ŠëŠ”ë‹¤.
- Hash mapì˜ ê²½ìš°ì—ëŠ” Hashì˜ ì‚¬ì´ì¦ˆì— ì˜í•œ ë¬¸ì œê°€ ìˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ 1ê³¼ 100ì„ ë„£ëŠ”ë‹¤ë©´ hash ì‚¬ì´ì¦ˆê°€ ì ì–´ë„ 1~100ê¹Œì§€ëŠ” ìˆì–´ì•¼ í•œë‹¤. ì™œëƒí•˜ë©´ ê·¸ ì‚¬ì‡ê°’ì´ ì•ˆ ë“¤ì–´ì˜¨ë‹¤ëŠ” ë³´ì¥ì´ ì—†ê¸° ë•Œë¬¸ì— í•´ë‹¹ ê³µê°„ì´ ìˆì–´ì•¼í•œë‹¤. ì´ ë¶€ë¶„ì— ìˆì–´ì„œ ì •í™•í•œ í¬ê¸°ë¥¼ ì•Œì•„ë³¼ í•„ìš”ê°€ ìˆë‹¤.

---

- 14 æ—¥

# PS

- Swapping Nodes in a Linked List

```cpp
/**
 * Definition for singly-linked list.
 * struct ListNode {
 *     int val;
 *     ListNode *next;
 *     ListNode() : val(0), next(nullptr) {}
 *     ListNode(int x) : val(x), next(nullptr) {}
 *     ListNode(int x, ListNode *next) : val(x), next(next) {}
 * };
 */
class Solution {
public:
    ListNode* swapNodes(ListNode* head, int k) {
        ListNode *A = head, *B = head, *nodeK;
        for (int i = 1; i < k; i++)
            A = A->next;
        nodeK = A;
        A = A->next;
        while (A)
            A = A->next, B = B->next;
        int temp = nodeK->val;
        nodeK->val = B->val;
        B->val = temp;
        return head;
    }
};
```

ì—°ê²°ë¦¬ìŠ¤íŠ¸ê°€ ì£¼ì–´ì§€ê³  ì •ìˆ˜ê°€ í•˜ë‚˜ ì£¼ì–´ì§„ë‹¤. ì²˜ìŒë¶€í„° ì •ìˆ˜ë²ˆì§¸ì™€ ëì—ì„œë¶€í„° ì •ìˆ˜ë²ˆì§¸ë¥¼ ë°”ê¾¼ ì—°ê²°ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“œëŠ” ë¬¸ì œì´ë‹¤.

ë”°ë¼ì„œ í•´ë‹¹ ì—°ê²°ë¦¬ìŠ¤íŠ¸ ë…¸ë“œë¥¼ ë‘ ê°œë¥¼ ì°¾ì€ ë‹¤ìŒ ì„œë¡œì˜ valueë¥¼ ë°”ê¿”ì¤€ë‹¤.

---

- 15 æ—¥

# PS

- Encode and Decode TinyURL

```cpp
class Solution {
public:
    map<string,string> m;
    // Encodes a URL to a shortened URL.
    string encode(string longUrl) {
        string txt="tinyurl";
        m[txt]=longUrl;
        return txt;
    }

    // Decodes a shortened URL to its original URL.
    string decode(string shortUrl) {
        return m[shortUrl];
    }
};

// Your Solution object will be instantiated and called as such:
// Solution solution;
// solution.decode(solution.encode(url));
```

ì£¼ì–´ì§„ URLì„ tinyí•˜ê²Œ ë§Œë“œëŠ” ë¬¸ì œì´ë‹¤. ë¬¸ì œ ìì²´ë¥¼ ì´í•´ëª»í•˜ê³  ê·¸ëƒ¥ ì›ë˜ ê°’ì„ ë¦¬í„´í•˜ë„ë¡ ë§Œë“¤ì—ˆë”ë‹ˆ Solveê°€ ë˜ì—ˆë‹¤. ë‹¤ì‹œ ì°¾ì•„ë³´ë‹ˆ ë‹¤ìŒê³¼ ê°™ì€ ë°©ë²•ì„ ì›í–ˆë˜ ê²ƒì´ì—ˆë‹¤.

```cpp
string idToShortURL(long int n)
{
    // Map to store 62 possible characters
    char map[] = "abcdefghijklmnopqrstuvwxyzABCDEF"
                 "GHIJKLMNOPQRSTUVWXYZ0123456789";

    string shorturl;

    // Convert given integer id to a base 62 number
    while (n)
    {
        shorturl.push_back(map[n%62]);
        n = n/62;
    }

    // Reverse shortURL to complete base conversion
    reverse(shorturl.begin(), shorturl.end());

    return shorturl;
}

// Function to get integer ID back from a short url
long int shortURLtoID(string shortURL)
{
    long int id = 0; // initialize result

    // A simple base conversion logic
    for (int i=0; i < shortURL.length(); i++)
    {
        if ('a' <= shortURL[i] && shortURL[i] <= 'z')
          id = id*62 + shortURL[i] - 'a';
        if ('A' <= shortURL[i] && shortURL[i] <= 'Z')
          id = id*62 + shortURL[i] - 'A' + 26;
        if ('0' <= shortURL[i] && shortURL[i] <= '9')
          id = id*62 + shortURL[i] - '0' + 52;
    }
    return id;
}
```

---

# Kubectl

ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ingress controllerë‚˜ cert managerë¥¼ ì„¤ì¹˜í•œ ë’¤ yamlë¡œ ì‚¬ìš©ìê°€ ì§€ì •í•œ ingress ë“±ì„ ì˜¬ë¦´ ë•Œ ë°œìƒí•œ ì˜¤ë¥˜ì— ëŒ€í•´ì„œ ì ì–´ë³´ë ¤ê³  í•œë‹¤.

ingress controllerë¥¼ ì„¤ì¹˜í•œ ë’¤ `kubectl apply -f ingress.yaml`ë¥¼ í†µí•´ì„œ ingressë¥¼ ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì˜¬ë¦¬ë ¤ê³  í•œë‹¤. ì´ ë•Œ ìê¾¸ ë°œìƒí•œ ì˜¤ë¥˜ëŠ” valid ê´€ë ¨ ì˜¤ë¥˜ì˜€ë‹¤. ì‰˜ ìŠ¤í¬ë¦½íŠ¸ë¡œ ì—°ê²°í•˜ì—¬ yamlì„ ìƒì„±í•œ ë’¤ í•´ë‹¹ íŒŒì¼ì„ ì¿ ë²„ë„¤í‹°ìŠ¤ì— ì˜¬ë¦¬ë ¤ê³  í•˜ì ë°œìƒí•œ ì˜¤ë¥˜ì˜€ë‹¤.

ì‹ ê¸°í•˜ê²Œë„ ì‰˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ ë‘ ë²ˆ ì‹¤í–‰í•˜ë©´ ì œëŒ€ë¡œ ingressê°€ ì˜¬ë¼ê°€ë‚˜, yaml íŒŒì¼ì„ ìƒì„±í•˜ìë§ˆìëŠ” ì˜¬ë¼ê°€ì§€ ì•Šì•˜ë‹¤. ë‹¤ë¥¸ ì‚¬ëŒë“¤ë„ ê²ªëŠ” ë¬¸ì œì˜€ëŠ”ì§€ ê¹ƒí—™ ì´ìŠˆë¥¼ í†µí•´ì„œ í•´ê²°í•˜ì˜€ëŠ”ë°, ingress admissionê³¼ ê°™ì€ vaildë¥¼ íŒë‹¨í•˜ëŠ” ë¶€ë¶„ì„ ì‚­ì œí•˜ë¼ëŠ” ë§ì´ì—ˆë‹¤. applyì „ì— ì‚­ì œí•˜ê³  ì‹œë„ë¥¼ í•˜ë‹ˆ ì œëŒ€ë¡œ ì§„í–‰ë˜ì—ˆë‹¤.

cert managerë„ ë§ˆì°¬ê°€ì§€ë¡œ ì§„í–‰ë˜ì—ˆë‹¤. ì‰˜ ìŠ¤í¬ë¦½íŠ¸ë¥¼ í†µí•´ ë¦¬ë‹¤ì´ë ‰ì…˜í•˜ì—¬ ë°”ë¡œ applyí•˜ê±°ë‚˜ ë‹¤ë¥¸ íˆ´ì„ í†µí•´ì„œ yamlì„ ë§Œë“  ë’¤ applyí•˜ëŠ” ì‹œë„ëŠ” ì „ë¶€ ì—ëŸ¬ë¡œ ì‹¤íŒ¨í•˜ëŠ” ê²ƒ ê°™ë‹¤. validë¥¼ íŒë‹¨í•˜ëŠ” ë¶€ë¶„ì„ ì‚­ì œí•´ë„ ë˜ëŠ”ì§€ ì˜ë¬¸ì´ì§€ë§Œ ë§ˆë•…í•œ ë°©ë²•ì„ ì°¾ì§€ ëª»í–ˆë‹¤.

---

- 16 æ—¥

# PS

- Best Time to Buy and Sell Stock with Transaction Fee

```cpp
class Solution {
public:
    int maxProfit(vector<int>& prices, int fee) {
        int stock = INT_MIN;
        int cash = 0;
        for(int price : prices){
            stock = max(stock, cash - price);
            cash = max(cash, stock + price - fee);
        }
        return cash;
    }
};
```

ì‚¬ê³  íŒ”ê¸°ë¥¼ ë°˜ë³µí•˜ë©´ì„œ ê°€ì¥ ë†’ì€ ì´ë“ì„ ë³¼ ë•Œë¥¼ ì°¾ëŠ” ë¬¸ì œì´ë‹¤.

ìµœì ì˜ í•´ë¥¼ ì°¾ì•„ì•¼í•˜ë¯€ë¡œ ì‚¬ê³ íŒŒëŠ” í–‰ìœ„ë¥¼ maxì¸ ë¶€ë¶„ì„ ì·¨í•´ì„œ ë‹µì„ êµ¬í–ˆë‹¤.

---

- 17 æ—¥

# PS

- Generate Random Point in a Circle

```cpp
class Solution {
private:
    const double PI = M_PI;
    double m_radius, m_x_center, m_y_center;
public:
    double uniform() {
        return (double)rand() / RAND_MAX;
    }
    Solution(double radius, double x_center, double y_center) {
      srand(time(NULL));
      m_radius = radius;
      m_x_center = x_center;
      m_y_center = y_center;
    }
    vector<double> randPoint() {
       double theta = 2 * M_PI * uniform();
       double r = sqrt(uniform());
        return vector<double>{
            m_x_center + r * m_radius * cos(theta),
            m_y_center + r * m_radius * sin(theta)
        };
    }
};

/**
 * Your Solution object will be instantiated and called as such:
 * Solution* obj = new Solution(radius, x_center, y_center);
 * vector<double> param_1 = obj->randPoint();
 */

```

ì› ì•ˆì˜ ì„ì˜ì˜ ì ì„ ì°ëŠ” ë¬¸ì œë¡œ ë³´ì¸ë‹¤. ì´ ë¬¸ì œë¥¼ í’€ê¸°ì— ì•ì„œ ì œëŒ€ë¡œ ì´í•´í•˜ì§€ ëª»í•´ì„œ ì—¬ëŸ¬ ë¸”ë¡œê·¸ë¥¼ í†µí•´ ì½”ë“œë¥¼ ë‚´ ì‹ëŒ€ë¡œ ë°”ê¾¸ì–´ë³´ì•˜ë‹¤.

ì½”ì‚¬ì¸ê³¼ ì‚¬ì¸ì„ ì´ìš©í•˜ì—¬ í•´ë‹¹ ì¢Œí‘œë¥¼ ì°¾ëŠ” ê²ƒì„ ë³´ì´ëŠ”ë° ì´ ë•Œ randë¥¼ í†µí•´ì„œ ì–»ê³ ì í•˜ëŠ” ë¶€ë¶„ì´ ë¬´ì—‡ì¸ì§€ ì œëŒ€ë¡œ ì´í•´í•˜ì§€ ëª»í–ˆë‹¤.

ì¡°ê¸ˆ ë” ì‹œê°„ì„ ë‘ê³  ë¬¸ì œë¥¼ ì§€ì¼œë´ì•¼ í•  í•„ìš”ê°€ ìˆë‹¤.

---

- 18 æ—¥

# PS

- Wiggle Subsequence

```cpp
class Solution {
public:
    int wiggleMaxLength(vector<int>& nums) {
        int n = nums.size();
        if(!n)
            return 0;
        int up=1;
        int down=1;
        for(int i=1; i<n; i++){
            if(nums[i] > nums[i-1])
                up = down+1;
            else if(nums[i] < nums[i-1])
                down = up+1;
        }
        return max(up, down);
    }
};

```

Wiggle Subsequenceì˜ ìµœëŒ€ ê¸¸ì´ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹¤. wiggleì€ i-1ë²ˆì§¸ì—ì„œ ië²ˆì§¸ ì›ì†Œë¥¼ ëº€ ê°’ì´ ì–‘ìˆ˜ ìŒìˆ˜ê°™ì´ ê³„ì† ë°”ë€ŒëŠ” ìˆ˜ì—´ì´ë‹¤.

ê·¸ ì¤‘ ê°€ì¥ ê¸´ ê°’ì„ êµ¬í•´ì•¼í•˜ë¯€ë¡œ ìœ„ ì•„ë˜ ì§„ë™í•˜ëŠ” ê°’ ì¤‘ í° ê°’ì„ ë°˜í™˜í•œë‹¤.

---

# K8s Cert-manager

ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ https í†µì‹ ì„ ìœ„í•´ì„œëŠ” ì¸ì¦ì´ í•„ìš”í•˜ëŠ”ë° ê°±ì‹ ê³¼ ì¸ì¦ì„ ë„ì™€ì£¼ëŠ” ë¶€ë¶„ì„ í•´ì£¼ëŠ” Cert-Managerë¼ëŠ” ê²ƒì´ í•„ìš”í•˜ë‹¤.

Cert-Managerë¥¼ ì„¤ì¹˜í•˜ê³  letsencryptë¥¼ ì„¤ì¹˜í•˜ì—¬ ingressì™€ ì—°ê²°í•˜ì—¬ https í†µì‹ ì„ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.

íë¦„ì„ ê·¸ëŒ€ë¡œ ì ì–´ë³´ë ¤ê³  í•œë‹¤.

- Ingress Controller
- ê¸°ë³¸ Ingress
- DNSì™€ Ingress IPì™€ ì—°ê²°
- Cert-Manager
- letsencrypt (ClusterIssuer)
- Ingressì— tls ì…ë ¥í•˜ì—¬ Ingress ê°±ì‹ 

`kubectl describe certificate letsencrypt`ë¥¼ í†µí•´ì„œ ì¸ì¦ì„œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìœ¼ë©°, ë°œê¸‰ê¹Œì§€ëŠ” ëª‡ ë¶„ ì •ë„ì˜ ì‹œê°„ì´ í•„ìš”í•˜ë‹¤.

- [ì°¸ê³ ](https://velog.io/@lhbbbb/%EC%B4%88%EB%B3%B4%EA%B0%9C%EB%B0%9C%EC%9E%90%EC%9D%98-Kubernetes-%EC%82%AC%EC%9A%A9%ED%95%B4%EB%B3%B4%EA%B8%B0-3feat.-GCP)

---

- 19 æ—¥

# PS

- Keys and Rooms

```cpp
class Solution {
private:
    bool visited[1001];
public:
    void dfs(int node, vector<vector<int>>& rooms) {
        if(visited[node])
            return;
        visited[node] = true;
        for(int i=0; i<rooms[node].size(); i++) {
            dfs(rooms[node][i], rooms);
        }
    }
    bool canVisitAllRooms(vector<vector<int>>& rooms) {
        dfs(0, rooms);
        for(int i=0; i<rooms.size(); i++) {
            if(!visited[i])
                return false;
        }
        return true;
    }
};
```

ë°©ë§ˆë‹¤ í‚¤ê°€ ì£¼ì–´ì§€ëŠ”ë° í•´ë‹¹ í‚¤ê°€ ìˆì–´ì•¼ ë°©ì— ë“¤ì–´ê°ˆ ìˆ˜ ìˆë‹¤. 0ë²ˆ ë°©ì—ì„œ ì‹œì‘í•´ì„œ ëª¨ë“  ë°©ì„ ëŒë©´ trueë¥¼ ë°˜í™˜í•˜ëŠ” ë¬¸ì œì´ë‹¤.

dfsë¡œ í’€ì´ë¥¼ í–ˆìœ¼ë©°, ê°€ì¥ ê³ ì „ì ì¸ ê·¸ë˜í”„ë¥¼ ìƒê°í•˜ë©´ì„œ í•´ê²°í•˜ì˜€ë‹¤.

í‚¤ë¥¼ ì´ì›ƒí•œ ë…¸ë“œë¼ê³  ìƒê°í–ˆìœ¼ë©° í‚¤ê°€ ìˆìœ¼ë©´ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë¯€ë¡œ ì ‘ê·¼í•˜ë©´ì„œ visited ë°°ì—´ì„ ì²´í¬í–ˆë‹¤. ë§ˆì§€ë§‰ì—ëŠ” visited ë°°ì—´ì„ ì „ì²´ë¥¼ ëŒë©´ì„œ falseì¸ ê°’ì´ ìˆë‚˜ í™•ì¸í•˜ëŠ” ì‘ì—…ì„ ê±°ì¹˜ë©´ ëì´ë‹¤.

---

# CloudSQL Proxy

í´ë¼ìš°ë“œ ìƒì—ì„œ ì¿ ë²„ë„¤í‹°ìŠ¤ë¥¼ ì´ìš©í•œ ì•„í‚¤í…ì³ ì¤‘ í•œ ê°€ì§€ì— ëŒ€í•´ ì ì–´ë³´ë ¤ê³  í•œë‹¤. ì‚¬ì´ë“œì¹´ íŒ¨í„´ì„ ì´ìš©í•œ CloudSQL Proxyì´ë‹¤.

ì¿ ë²„ë„¤í‹°ìŠ¤ì—ì„œ ì—¬ëŸ¬ ì»¨í…Œì´ë„ˆë“¤ì„ ê°€ì§€ê³  ìˆì„ ë•Œ ë§Œì•½ ê°™ì€ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼í•˜ë ¤ê³ í•˜ë©´ ì–´ë–¤ ì‹ìœ¼ë¡œ í•  ìˆ˜ ìˆì„ê¹Œ ìƒê°í•´ë³´ì

ì»¨í…Œì´ë„ˆ ìƒì—ì„œ ë°ì´í„°ë² ì´ìŠ¤ì— ì—°ê²°ì„ í•˜ë ¤ë©´ ë°ì´í„°ë² ì´ìŠ¤ì˜ ì •ë³´ë¥¼ ë‹¤ podë§ˆë‹¤ ê°€ì§€ê³  ì ‘ê·¼ì„ í•´ì•¼í•  ê²ƒì´ë‹¤. ì´ ë•Œ ê° ì»¨í…Œì´ë„ˆë“¤ì€ ìê¸° ìì‹ ì˜ localhostì— ì ‘ê·¼í•˜ë“¯ì´ ë°ì´í„°ë² ì´ìŠ¤ì— ìš”ì²­ì„ í•  ìˆ˜ ìˆë‹¤ë©´ ì–´ë–¨ê¹Œ?

ì»¨í…Œì´ë„ˆë“¤ì—ì„œ êµ¬í˜„í•˜ê¸°ë„ ì‰½ê³  ì»¨í…Œì´ë„ˆë“¤ì€ ë‹¨ì§€ ë¡œì»¬ë¡œ ì ‘ê·¼í•  ë¿ì´ê³  ê·¸ ë’¤ì—ì„œ ì¼ì–´ë‚˜ëŠ” ì¼ì€ ëª¨ë¥¸ë‹¤.

ì´ëŸ¬í•œ ê¸°ëŠ¥ì€ CloudSQL Proxyë¥¼ ì´ìš©í•˜ë©´ ê°€ëŠ¥í•˜ë‹¤. ê° ì»¨í…Œì´ë„ˆë“¤ì— ì‚¬ì´ë“œì¹´ íŒ¨í„´ìœ¼ë¡œ ì˜†ì— ì‘ì€ ë¶€ì†ë¬¼ì²˜ëŸ¼ ë°ì´í„°ë² ì´ìŠ¤ì— ëŒ€í•œ í‚¤ë¥¼ ê°€ì§„ ë¶€ë¶„ì„ ê°€ì§€ê³  ìˆìœ¼ë©° í•´ë‹¹ í‚¤ë“¤ì´ ë°ì´í„°ë² ì´ìŠ¤ì— ì¸ì¦í•˜ê³  ì ‘ê·¼í•˜ëŠ” ì—­í• ì„ í•œë‹¤. ì»¨í…Œì´ë„ˆë“¤ì€ ì´ëŸ¬í•œ ê³¼ì •ì„ ëª¨ë¥¸ì²´ í‚¤ë¥¼ ê°€ì§„ ë¶€ë¶„ì— ìš”ì²­ì„ í•  ë¿ì´ë‹¤.

êµ¬í˜„ì€ GKEì—ì„œëŠ” ë‘ ê°€ì§€ ë°©ë²•ì„ ì œì‹œí•œë‹¤. ì²«ë²ˆì§¸ë¡œëŠ” iam ì—­í• ë¡œ workloadê°€ ê°€ëŠ¥í•œ ê¶Œí•œì„ ì¤˜ì„œ ê¶Œí•œìœ¼ë¡œì¨ ì ‘ê·¼í•˜ê²Œ í•˜ëŠ” ë°©ë²•ê³¼ ë‘ë²ˆì§¸ëŠ” ê¶Œí•œì´ ìˆëŠ” ì—­í• ì˜ í‚¤ë¥¼ ë‚´ë ¤ë°›ì•„ ì¿ ë²„ë„¤í‹°ìŠ¤ì˜ ì‹œí¬ë¦¿ìœ¼ë¡œ ë“±ë¡í•˜ê³  ë³¼ë¥¨ì— ë§ˆìš´íŠ¸í•˜ì—¬ ë³¼ë¥¨ì— ì ‘ê·¼ ê°€ëŠ¥í•œ ì»¨í…Œì´ë„ˆë“¤ì€ ì „ë¶€ ë°ì´í„°ë² ì´ìŠ¤ì— ì ‘ê·¼ì„ ê°€ëŠ¥í•˜ê²Œ í•˜ëŠ” ë°©ë²•ì´ë‹¤.

ë‘ ë°©ë²• ëª¨ë‘ GKEì—ì„  ë¬¸ì„œë¡œ ì •ë¦¬ë˜ì–´ ìˆì–´ ë³´ê³  ë”°ë¼í•  ìˆ˜ ìˆë‹¤.

- ì°¸ê³ ìë£Œ
  - [gruuuuuë‹˜ ë””ìì¸ íŒ¨í„´ ê¸€](https://gruuuuu.github.io/cloud/design-pattern/#)
  - [GKE ë¬¸ì„œ](https://cloud.google.com/sql/docs/mysql/connect-kubernetes-engine?hl=ko#proxy)

---

- 20 æ—¥

# 2021 LINE ê³µì±„ ì½”ë”©í…ŒìŠ¤íŠ¸

ì¼ì •ì€ 1ì‹œ ~ 3ì‹œ ì½”ë”©í…ŒìŠ¤íŠ¸ ì´í›„ 3ì‹œ 20ë¶„ ~ 5ì‹œ 20ë¶„ ë‹¨ê³„ë³„ ì½”ë”©í…ŒìŠ¤íŠ¸ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆë‹¤.

ì½”ë”©í…ŒìŠ¤íŠ¸ì˜ ê²½ìš°ì—ëŠ” ëŠ¦ê²Œ ì‹œì‘í•˜ì—¬ ì‹œê°„ì´ ë¶€ì¡±í•˜ì˜€ë‹¤. í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ 2ê°œë§Œ ì£¼ì–´ì§€ê³  ì œì¶œí•˜ëŠ” ë°©ì‹ì´ë©° ë¬¸ìì—´ì„ ê°€ì§€ê³  ë…¸ëŠ” ë¬¸ì œë“¤ì´ ë§ì•˜ë‹¤.

ë¬¸ìì—´ ë¬¸ì œì˜ ê²½ìš°ì—ëŠ” ê¸ˆë°© ë„˜ì–´ê°”ì§€ë§Œ ìˆ˜í•™ ë¬¸ì œì—ì„œ ì—¬ì „íˆ ë§‰íˆê³  ë§ì•˜ë‹¤. ì‹œê°„ì´ ë¶€ì¡±í•˜ê²Œ ëŠê»´ì§ˆ ì •ë„ì˜ ë‚œì´ë„ëŠ” ì•„ë‹ˆì˜€ëŠ”ë° ìˆ˜í•™ì—ì„œ ì‚¼ì²œí¬ë¡œ ë¹ ì§€ëŠ” ê²½ìš°ê°€ ë§ì€ ê²ƒ ê°™ë‹¤.

ì½”ë”©í…ŒìŠ¤íŠ¸ëŠ” 4ë¬¸ì œ, ë‹¨ê³„ë³„ ì½”ë”©í…ŒìŠ¤íŠ¸ëŠ” 3ë¬¸ì œë¡œ 1ë²ˆë¶€í„° 3ë²ˆê¹Œì§€ ì¡°ê±´ì„ ë¶™ì—¬ê°€ëŠ” ì‹ìœ¼ë¡œ ì§„í–‰ë˜ì—ˆë‹¤. ì½”ë”©í…ŒìŠ¤íŠ¸ëŠ” 2ë¬¸ì œ, ë‹¨ê³„ë³„ ì½”ë”©í…ŒìŠ¤íŠ¸ëŠ” 3ë¬¸ì œ í•´ê²°í•˜ì˜€ëŠ”ë° ì½”ë”©í…ŒìŠ¤íŠ¸ ë‚¨ì€ ë¬¸ì œë“¤ì´ ë§¤ìš° ì•„ì‰¬ì› ë‹¤.

ì§‘ì— ëŠ¦ê²Œ ë“¤ì–´ì™€ì„œ ì‹œì‘í•˜ì—¬ ì‹œê°„ì„ ë§ì´ ìŸì§€ ëª»í•œ ì ë„ ìˆì§€ë§Œ ê·¸ë³´ë‹¤ ìˆ˜í•™ ë¬¸ì œì—ì„œ ì˜¤ë˜ ì‹œê°„ì´ ëŒë ¸ë‹¤ëŠ” ì ì´ ì•„ì‰¬ì› ë‹¤.

ì „ì²´ì ì¸ ë‚œì´ë„ëŠ” ì–´ë µì§€ëŠ” ì•Šì•˜ì§€ë§Œ ìˆ¨ê²¨ì§„ í…ŒìŠ¤íŠ¸ì¼€ì´ìŠ¤ë¥¼ ë‹¤ í†µê³¼í•  ìˆ˜ ìˆë‚˜ ì‹¶ì„ ì •ë„ë¡œ í…ŒìŠ¤íŠ¸ ì¼€ì´ìŠ¤ê°€ ë§ì„ ê²ƒ ê°™ë‹¤. ê²Œë‹¤ê°€ ì—¬íƒ€ ì½”í…Œì™€ ë‹¤ë¥¸ ì ì€ ë¬¸ìì—´ ë¬¸ì œê°€ ë§¤ìš° ë§ì•„ì„œ ë‚˜ë¡œì¨ëŠ” í’€ê¸° ìš©ì´í–ˆë‹¤.

í‰ì†Œì— ë¬¸ìì—´ ë¬¸ì œì„ ì£¼ë¡œ í•´ê²°í•˜ë‹¤ë³´ë‹ˆ cppë¡œ ë¹ ë¥´ê²Œ í•´ê²°í•´ë‚˜ê°„ê±° ê°™ë‹¤.

---

# PS

- Design Underground System

```cpp
class UndergroundSystem {
public:
    UndergroundSystem() {

    }
    map<pair<string, string>, pair<int, int>> travels;
    map<int, pair<string, int>> persons;

    void checkIn(int id, string stationName, int t) {
        persons[id] = make_pair(stationName, t);
    }

    void checkOut(int id, string stationName, int t) {
        if(persons.find(id) != persons.end()){
            string start = persons[id].first;
            int startTime = persons[id].second;
            int sum = 0, count = 0;
            pair<string, string> travel = make_pair(persons[id].first, stationName);
            if(travels.find(travel) != travels.end()){
                sum += travels[travel].first;
                count += travels[travel].second;
            }
            sum += (t - startTime);
            count += 1;
            travels[travel] = make_pair(sum, count);
            persons.erase(id);
        }
    }

    double getAverageTime(string startStation, string endStation) {
        pair<int, int> p = travels[make_pair(startStation, endStation)];
        int sum = p.first, count = p.second;
        return (double)sum/count;
    }
};

/**
 * Your UndergroundSystem object will be instantiated and called as such:
 * UndergroundSystem* obj = new UndergroundSystem();
 * obj->checkIn(id,stationName,t);
 * obj->checkOut(id,stationName,t);
 * double param_3 = obj->getAverageTime(startStation,endStation);
 */
```

ì—­ì—ì„œ ì—­ìœ¼ë¡œ ì´ë™í•  ë•Œ ì—­ ì´ë™ í‰ê·  ì‹œê°„ì„ êµ¬í•˜ëŠ” ë¬¸ì œë¡œ, í´ë˜ìŠ¤ì˜ ë§ëŠ” í•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ëŠ” ë¬¸ì œì´ë‹¤.

ì²´í¬ì¸í•˜ëŠ” ì‚¬ëŒê³¼ ì²´í¬ ì•„ì›ƒí•˜ëŠ” ì‚¬ëŒë“¤ì´ ì£¼ì–´ì§€ëŠ”ë° ì´ ë•Œ ì‚¬ëŒë“¤ì€ idë¡œ êµ¬ë³„ì´ ëœë‹¤. ë„ì°© ì‹œê°„ì—ì„œ ì¶œë°œ ì‹œê°„ì„ ë¹¼ëŠ” ì‹ìœ¼ë¡œ êµ¬í•˜ë©°, ë§Œì•½ ìŠ¹ê°ì´ ì—¬ëŸ¬ëª…ì´ë¼ë©´ ìŠ¹ê°ë§ˆë‹¤ì˜ ì´ë™ì‹œê°„ì„ ëª¨ë‘ êµ¬í•˜ì—¬ ë‚˜ëˆ„ì–´ì§€ëŠ” ë°©ì‹ìœ¼ë¡œ êµ¬í•œë‹¤.

ê·¸ëŸ¬ê¸° ìœ„í•´ì„œ mapì„ ì´ìš©í•´ì„œ ì‚¬ëŒë“¤ì˜ ì •ë³´ì™€ ì´ë™í•˜ëŠ” ì •ë³´ë¥¼ ë‹´ì•„ì„œ ì²´í¬ì•„ì›ƒí•  ë•Œ ì •ë¦¬í•´ì¤€ë‹¤.

ì´í›„ í‰ê·  ì‹œê°„ì„ êµ¬í•˜ëŠ” í•¨ìˆ˜ì—ì„œ ì •ë¦¬í•œ ì •ë³´ë¥¼ ê°€ì§€ê³  í‰ê·  ì‹œê°„ì„ êµ¬í•´ì£¼ë©´ ëœë‹¤.

---
