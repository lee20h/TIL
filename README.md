# ğŸ“™ Today I Learned

## ê·œì¹™

- ê¸°ì–µì— ë‚¨ëŠ” ë‚´ìš© ê¸°ë¡ í›„ [ì •ì  ì›¹í˜ì´ì§€](https://lee20h.github.io/TIL/)ì— ì •ë¦¬
- Github Actionìœ¼ë¡œ ë°°í¬
- markdownìœ¼ë¡œ ì‘ì„±
- ë¬¸ì œ í’€ê³  [Problem Solving](https://github.com/lee20h/TIL/tree/master/Problem%20Solving) í´ë”ì— ëª¨ìœ¼ê¸°

---

# 2020ë…„

| [5ì›”](./month/5ì›”) | [6ì›”](./month/6ì›”) | [7ì›”](./month/7ì›”) | [8ì›”](./month/8ì›”) | [9ì›”](./month/9ì›”) | [10ì›”](./month/10ì›”) | [11ì›”](./month/11ì›”) | [12ì›”](./month/12ì›”) |
| ------------------ | ------------------ | ------------------ | ------------------ | ------------------ | -------------------- | -------------------- | -------------------- |

---

- 1 æ—¥

# 2020ë…„ íšŒê³ 

2020ë…„ì—ëŠ” ì •ë§ ë§ì€ ì¼ì´ ìˆì—ˆë‹¤.

1. ìë°”ìŠ¤í¬ë¦½íŠ¸ ì ‘í•¨
2. í”„ë¡œì íŠ¸ ì§„í–‰ ê²½í—˜ (Nodejs, í•´ì»¤í†¤)
3. í˜„ì¥ì‹¤ìŠµ
4. SQLD
5. ì½”ë”©í…ŒìŠ¤íŠ¸ ê²½í—˜, PS
6. í•™ë¶€ìƒ 3í•™ë…„ ë§ˆë¬´ë¦¬

2020ë…„ì—ëŠ” ì „ì—¼ë³‘ìœ¼ë¡œ ì¸í•´ ì–¸íƒíŠ¸ë¡œ ì§„í–‰ë˜ëŠ” ì¼ë“¤ì´ ë§ì•˜ê³ , ì˜¨ë¼ì¸ìœ¼ë¡œë„ ë§ì€ ê²½í—˜ì„ í•  ìˆ˜ ìˆì—ˆë‹¤. ì´ëŸ¬í•œ ì‹œëŒ€ì— ë§ì¶°ì„œ ë„ì›€ì´ ë˜ëŠ” ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“œëŠ” ê°œë°œìë“¤ì´ ëŒ€ë‹¨í•´ë³´ì˜€ë‹¤. ë§ì€ ê²ƒë“¤ì´ ì œí•œë˜ê³  ìœ„ì¶•ëœ ê²ƒì´ ë§ìœ¼ë‚˜, ì—¬ì „íˆ í•´ì•¼í•  ì¼ì€ ë§ê³  ì„¸ìƒì€ ëŒì•„ê°„ë‹¤.

## ìë°”ìŠ¤í¬ë¦½íŠ¸

ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì˜¬í•´ ì´ˆì— ì ‘í•˜ê²Œ ë˜ì–´ Vue.js ì¸ê°•ì„ í†µí•´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì ‘í•œ ë’¤ Node.jsë¥¼ í”„ë¡œì íŠ¸ë¥¼ í•´ë³´ë©´ì„œ ê³µë¶€ë¥¼ ì‹œì‘í•˜ì˜€ë‹¤. í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë©´ì„œ ëŠë‚€ ì ì€ ë¬´ì—‡ì´ë“  **ê¸°ì´ˆê°€ ì œì¼ ì¤‘ìš”í•˜ë‹¤**ë¼ëŠ” ìƒê°ì´ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ì— ëŒ€í•´ ê¸°ì´ˆë¥¼ í™•ì‹¤í•˜ê²Œ ë‹¤ì§€ì§€ ì•Šê³  í”„ë ˆì„ì›Œí¬ë¥¼ í†µí•´ ê²°ê³¼ë¬¼ë§Œ ì–»ì„ë ¤ê³  í•˜ê³  ì—¬ëŸ¬ í¬ìŠ¤íŒ…ì„ ë³´ë©´ì„œ ì›ë¦¬ë¥¼ ì´í•´í•˜ì§€ ì•Šì€ ì±„ êµ´ëŸ¬ê°€ê¸°ë§Œ í•˜ë©´ ëœë‹¤ëŠ” ìƒê°ì´ ì§€ë°°ì ì´ì˜€ë‹¤. ì´í›„ ë‹¤ë¥¸ ê°„ë‹¨í•œ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë§Œë“¤ë ¤ëŠ” ì‹œë„ë„ ì•ˆí•´ë³´ê³  ì‹œê°„ì´ íë¥¸ ë’¤ì— ì ‘í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ë§¤ìš° ì–´ë ¤ì› ë‹¤. ê·¸ë˜ì„œ ì˜¬í•´ ì¤‘ìˆœì— ì²˜ìŒë¶€í„° ìë°”ìŠ¤í¬ë¦½íŠ¸ì— ëŒ€í•´ ê³µë¶€ë¥¼ ì‹œì‘í•˜ì˜€ê³  ì§€ê¸ˆë„ ì™„ë²½í•˜ì§„ ì•Šì§€ë§Œ ì¡°ê¸ˆì€ ì´í•´í•˜ëŠ” ìˆ˜ì¤€ì´ ëœ ê²ƒ ê°™ë‹¤.

## í”„ë¡œì íŠ¸

í”„ë¡œì íŠ¸ì˜ ê²½ìš°ì—ëŠ” Node.jsë¡œ Express í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í•œ MVCíŒ¨í„´ì„ ì ìš©í•œ ëŒ€í•™êµ ì¤‘ê³ ì±…ë°© ì‚¬ì´íŠ¸ì™€ ì „ë¶ í•´ì»¤í†¤ ëŒ€íšŒì—ì„œ ë§Œë“  ì†ì£¼ í”„ë¡œê·¸ë¨ì´ë‹¤. ì¤‘ê³ ì±…ë°©ì˜ ê²½ìš°ì—ëŠ” Modelì€ MySQL + Sequeilze, ViewëŠ” Vue.jsë¡œ ì¡ê³  ì„œë²„ë‹¨ì„ ì½”ë”©í•˜ì˜€ë‹¤. ì„œë²„ë‹¨ì—ì„œ REST APIì˜ ê°œë…ì„ ì¡ê³  APIë¥¼ ë§Œë“¤ê±°ë‚˜ DB ê³µë¶€ë¥¼ ê²¸í•˜ë©´ì„œ ì½”ë”©ì„ í•˜ì˜€ë‹¤. ì´ ë•Œì˜ ê²½í—˜ì´ ê½¤ í° ì—­í• ì„ í•´ì£¼ì—ˆë‹¤. í•˜ì§€ë§Œ ì½”ë¡œë‚˜ë¡œ ì¸í•´ ì œëŒ€ë¡œ ì„œë¹„ìŠ¤ëŠ” í•´ë³´ì§€ ëª»í•˜ê³  ë§ˆë¬´ë¦¬ê°€ ë˜ì—ˆë‹¤.

ì†ì£¼ í”„ë¡œê·¸ë¨ì˜ ê²½ìš°ì—ëŠ” ì „ë¶ í•´ì»¤í†¤ì—ì„œ ê¸°íšìë¡œ ì°¸ì—¬í•˜ì—¬ ë§Œë“¤ê²Œ ë˜ì—ˆëŠ”ë°, ì €ì‹œë ¥ìë“¤ì„ ìœ„í•´ì„œ ì½ì–´ì£¼ëŠ” ê¸°ê¸°ë¥¼ ëª©í‘œë¡œ ì œì‘í•˜ì˜€ë‹¤. ì´ ë•Œ ì‚¬ìš©í•œ ê²ƒì€ ë¼ì¦ˆë² ë¦¬íŒŒì´ì™€ ì¹´ë©”ë¼, ìŠ¤í¬ë¦°ì„ ë‹¨ ë’¤ íŒŒì´ì¬ìœ¼ë¡œ ì½”ë”©í•˜ì—¬ ORMê³¼ TTSë¥¼ ë¶ˆëŸ¬ë“¤ì—¬ì„œ ì‚¬ìš©í•˜ì˜€ë‹¤. ì½”ë”©ì—ëŠ” í° ê´€ì—¬ë¥¼ í•˜ì§€ ì•Šì•˜ì§€ë§Œ ê¸°íší•˜ëŠ” ì…ì¥ì—ì„œ ê½¤ ì‹ ê²½ ì“¸ ê²ƒì´ ë§ê³  ì—¬ëŸ¬ê°€ì§€ ê´€ì ì—ì„œ ë´ì•¼í•œë‹¤ëŠ” ê²ƒì„ ë°°ìš¸ ìˆ˜ ìˆì—ˆë‹¤. ìš°ìˆ˜ìƒìœ¼ë¡œ ë§ˆë¬´ë¦¬í•  ìˆ˜ ìˆì—ˆë‹¤.

## í˜„ì¥ì‹¤ìŠµ

ì—¬ë¦„ë°©í•™ì— ì§„í–‰í•œ í˜„ì¥ì‹¤ìŠµì€ í¬ê²Œ ë³€í™”ë¥¼ ì¤€ ê²ƒì´ ì—†ì—ˆë‹¤. ê·¸ ë‹¹ì‹œì— ê¸°ì—… ìì²´ê°€ ë°”ë¹ ì„œ í¬ê²Œ ê´€ì‹¬ì„ ì¨ì£¼ì§€ ëª»í•´ ëŒ€ë¶€ë¶„ì´ ê³µë¶€í•˜ëŠ” ì‹ìœ¼ë¡œ í˜ëŸ¬ê°€ê²Œ ë˜ì—ˆë‹¤. í˜„ì¬ í•™êµì—ì„œ ì„œë¹„ìŠ¤í•˜ëŠ” ì‚¬ì´íŠ¸ì— ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë©´ì„œ ê³µë¶€ë¥¼ í•  ìˆ˜ ìˆì„ê±°ë¼ ìƒê°í–ˆìœ¼ë‚˜, ì „í˜€ ë‹¤ë¥¸ ì ì—ì„œ ê¹¨ë‹¬ì€ ê²ƒì´ ìˆë‹¤. ë°”ë¡œ, ë¦¬íŒ©í„°ë§ì˜ ì¤‘ìš”ì„±ì´ë‹¤. ê°œë°œì´ ëœì§€ ê½¤ ì‹œê°„ì´ íë¥¸ ì„œë¹„ìŠ¤ë¼ ì½”ë“œë“¤ì´ ì—„ì²­ ìŒ“ì—¬ìˆê³  ì†ŒìŠ¤ë§ˆë‹¤ ì‚¬ìš©í•˜ëŠ” ì»¨ë²¤ì…˜ì´ë‚˜ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ ì „ë¶€ ë‹¬ë¼ì„œ í†µì¼ì´ ë˜ì§€ ì•Šì€ ê²ƒì„ ëŠê¼ˆë‹¤. ê·¸ë¦¬ê³  ì´ ë¶€ë¶„ì—ì„œ ì¸ìˆ˜ì¸ê³„ê°€ ì „í˜€ ì—†ì–´ì„œ ì†ŒìŠ¤ì™€ ê¸°ëŠ¥ì„ ì´í•´í• ë ¤ë©´ ì§ì ‘ ì†ŒìŠ¤ë“¤ì„ ë§Œì ¸ë³´ë©´ì„œ íŒŒì•…í•´ì•¼í–ˆë‹¤. ì‹œê°„ì´ ë„ˆë¬´ ë§ì´ ê±¸ë ¸ê³  ì–´ë–¤ ë¶€ë¶„ì€ ì„ ì„ ê°œë°œìë„ ì½”ë”©ì´ ì™œ ê·¸ë ‡ê²Œ í–ˆëŠ”ì§€ë„ ëª¨ë¥´ëŠ” ë¶€ë¶„ì´ ìˆì—ˆë‹¤. ì†Œí”„íŠ¸ì›¨ì–´ê³µí•™ì— ëŒ€í•´ì„œ ë°°ìš°ê¸° ì „ì´ì˜€ì§€ë§Œ ë¦¬íŒ©í„°ë§ì˜ ì¤‘ìš”ì„±ì„ ì§ì ‘ ëª¸ìœ¼ë¡œ ë¶€ë”ªí˜€ì„œ ì•Œê²Œ ëœ ê³„ê¸°ì˜€ë‹¤. ì´í›„ì— í´ë¦° ì½”ë“œ ì±…ì„ ì ‘í•˜ê²Œ ë˜ê¸°ë„ í•˜ì˜€ë‹¤.

## ë°ì´í„°ë² ì´ìŠ¤

ì´ë²ˆì— ë°ì´í„°ë² ì´ìŠ¤ë¥¼ ê³µë¶€ë¥¼ ë§ì´ í•œ í•´ì´ê¸°ë„ í•˜ë‹¤. SQLDë¥¼ ì·¨ë“í•˜ê³  ì‹¶ì–´ì„œ SQLì— ëŒ€í•´ ê³µë¶€ë¥¼ í•˜ì—¬ ì·¨ë“í•˜ê³ , ë‹¤ë¥¸ í”„ë¡œì íŠ¸ë“¤ì´ë‚˜ ê°•ì˜ë¥¼ í†µí•´ì„œ NoSQLì¸ MongoDBë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ì—¬ëŸ¬ ìë£Œë¥¼ í†µí•´ì„œ ê³µë¶€ë„ í•˜ê³  ORMì¸ Mongooseì™€ Sequelizeë¥¼ ì‚¬ìš©í•´ë³´ê¸°ë„ í–ˆë‹¤. í•™êµì—ì„œ ì§„í–‰í•˜ëŠ” ê°•ì˜ë³´ë‹¤ë„ ì§ì ‘ ì°¾ì•„ë³´ê³  ì‚¬ìš©í•´ë³´ê³  ì„¤ê³„ í•´ë³¸ ê²ƒì´ ê°€ì¥ ì¢‹ì€ ê²½í—˜ì´ì˜€ë‹¤.

## ì•Œê³ ë¦¬ì¦˜

ì•Œê³ ë¦¬ì¦˜ì„ ì—´ì‹¬íˆ í•œ í•´ì´ê¸°ë„ í•œë°, ê·¸ ì¤‘ ACM ICPC ì°¸ì—¬ì™€ ì½”ë”©í…ŒìŠ¤íŠ¸ ì°¸ì—¬í•œ ê²ƒì´ ê°€ì¥ ê¸°ì–µì— ë‚¨ëŠ”ë‹¤. ACM ICPC êµë‚´ ì€ìƒë„ ë°›ê³  ì°¸ì—¬í•œ ê²ƒì— í° ì˜ì˜ë¥¼ ë‘ì§€ë§Œ ëŒ€íšŒì™€ ì½”ë”©í…ŒìŠ¤íŠ¸ì—ì„œ ì›í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì€ ë‹¤ë¥¸ ê²ƒì„ ì•Œê²Œ ë˜ì—ˆë‹¤. ì½”ë”©í…ŒìŠ¤íŠ¸ëŠ” ì¹´ì¹´ì˜¤ ê³µì±„ì™€ ì¶”ì²œíŒ€ ì¸í„´, ìš°ì•„í•œí…Œí¬ì½”ìŠ¤ ë“±ì— ì°¸ì—¬í–ˆë‹¤. ì „ë¶€ í•©ê²©ì„ ë°›ì§„ ëª»í–ˆì§€ë§Œ ì°¸ì—¬í•¨ìœ¼ë¡œì¨ 2021ë…„ë„ì— ì§€ì›í•  ë•Œ ë„ì›€ì´ ë  ê²ƒ ê°™ë‹¤.

## 3í•™ë…„ ë§ˆë¬´ë¦¬

2019ë…„ë³´ë‹¤ ë” ê¸¸ê²Œ ëŠê»´ì§„ 2020ë…„ì´ì˜€ë‹¤. í•™ë¶€ìƒ 3í•™ë…„ìœ¼ë¡œ ì „ê³µ ìˆ˜ì—…ë„ ìƒë‹¹íˆ ë§ê³ , ìˆ˜ê°•ì‹ ì²­ë„ ì „ê³µ ìœ„ì£¼ë¡œ ì‹ ì²­í•˜ì—¬ ì „ê³µë§Œ ê³„ì† ê³µë¶€í•œ í•œ í•´ì˜€ë‹¤. ë°°ìš´ ê²ƒì„ ëª¨ë‘ ê¸°ì–µì— ë‚¨ê¸°ê³  ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” ì§€ì‹ì´ ë˜ì—ˆìœ¼ë©´ ì¢‹ê² ë‹¤. ì—¬ë¦„ë°©í•™ ì´í›„ì— ê³µë¶€ëŸ‰ì´ í™• ëŠ˜ì–´ì„œ 2í•™ê¸° ìˆ˜ì—…ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì„ ì´ë¯¸ ê³µë¶€í•˜ì—¬ 2í•™ê¸°ì—ëŠ” ìˆ˜ì—…ì— í¬ê²Œ ì§‘ì¤‘ì„ í•˜ì§€ ëª»í–ˆë‹¤. ëŒ€ë¶€ë¶„ì„ ê³µë¶€ë¥¼ í•˜ê³  ë‹¤ì‹œ ìˆ˜ì—…ìœ¼ë¡œì¨ ì ‘í•˜ê²Œ ë˜ì–´ PSì™€ Node, DB ê³µë¶€ë¥¼ ì£¼ë¡œ í•˜ê²Œ ëœê±° ê°™ë‹¤.

---

- 2 æ—¥

# Express Route Params

ë¼ìš°íŒ…ì— ìˆì–´ì„œ ìƒˆë¡­ê²Œ ì•Œê²Œ ëœ ë‚´ìš©ì´ ìˆì–´ì„œ ì •ë¦¬í•˜ë ¤ê³  í•œë‹¤. ê·¸ ë‚´ìš©ì€ ë¼ìš°íŒ…í•  ë•Œ ë§Œì•½ IDì™€ ê°™ì´ ë³€ë™í•˜ëŠ” ìˆ«ìê°€ ìˆë‹¤ë©´ ì–´ë–»ê²Œ í• ê¹Œë¼ëŠ” ë‚´ìš©ì´ë‹¤.

```js
const HOME = "/";
const JOIN = "/join";
const LOGIN = "/login";
const LOGOUT = "/logout";
```

ë³´í†µ ì´ëŸ° ì‹ìœ¼ë¡œ ë¼ìš°íŒ…í•˜ê²Œ ë˜ëŠ”ë° ì´ ë•Œ ë§Œì•½ ìœ ì €ì˜ IDë¥¼ êµ¬ë³„í•´ì•¼ í•  ê²½ìš°ì—ëŠ” ë§‰ë§‰í•˜ë‹¤. ë³´í†µ ê·¸ ìˆ«ìëŠ” ê°€ë³€í˜•ì´ê³  ì–´ë–¤ í˜•íƒœë¡œ ë“¤ì–´ì˜¬ì§€ ëª¨ë¥¸ë‹¤. ìˆ«ìì¼ìˆ˜ë„ ìˆê³ , ì¼ë ¨ì˜ ì•ŒíŒŒë²³ê³¼ ìˆ«ìì˜ ì¡°í•©ì¼ ìˆ˜ë„ ìˆë‹¤.

ì´ëŸ° ë¶€ë¶„ì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ì•Œì•„ì•¼í•˜ëŠ” ê²ƒì€ ë°”ë¡œ ì´ê²ƒì´ë‹¤.

```js
const USERS = "/users";
const USER_DETAIL = "/:id";
```

userë¥¼ ë¼ìš°í„°ì— ì—°ê²°í•˜ê³  `user/id`ì™€ ê°™ì€ í˜•íƒœë¥¼ ì‚¬ìš©í•  ë•Œ `/:id`ì™€ ê°™ì´ ë¼ìš°íŒ…ì„ í•˜ë©´ ëœë‹¤. `/:`ë’¤ì— ë“¤ì–´ì˜¤ëŠ” ê°’ì€ req.paramsì— ë“¤ì–´ê°€ëŠ” ê°’ìœ¼ë¡œ http requestë¥¼ ë°›ëŠ” ë©”ì†Œë“œì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ì„œ `/users/:id`ë¡œ ì—°ê²°ëœ ë¼ìš°íŒ…ì„ ë°›ëŠ” ë©”ì†Œë“œê°€ ë‹¤ìŒê³¼ ê°™ì´ ìˆë‹¤

```js
userRouter.get("/:id", userController);
```

userRouterê°€ `/user`ì— ì—°ê²°ì´ ë˜ì–´ìˆë‹¤ë©´ í•´ë‹¹ get ìš”ì²­ì€ `/user/:id`ë¡œ ì—°ê²°ë˜ê²Œ ëœë‹¤. ì´ ë•Œ idëŠ” ì–´ë–¤ ê°’ì´ë“  ì˜¬ ìˆ˜ ìˆê³ , expressì—ì„œëŠ” `ì½œë¡ (:)`ë’¤ì— ë“¤ì–´ì˜¤ëŠ” ê°’ì„ ì‹ ê²½ì“°ì§€ ì•ŠëŠ”ë‹¤. ê·¸ë¦¬ê³  idì˜ ê²½ìš°ì—ëŠ” `userController`ë¼ê³  ëª…ì‹œí•œ ì»¨íŠ¸ë¡¤ëŸ¬ì— í•´ë‹¹í•˜ëŠ” í•¨ìˆ˜ì—ì„œ `req.params.id`ì™€ ê°™ì€ ê°’ìœ¼ë¡œ ì ‘ê·¼ì´ ê°€ëŠ¥í•˜ë‹¤. ë”°ë¼ì„œ urlì— ë“¤ì–´ê°„ idë¥¼ ê°€ì§€ê³  ë©”ì†Œë“œì—ì„œ ì²˜ë¦¬ë¥¼ í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë‹¤.

---

- 3 æ—¥

# ESLint

ESLintë€ ECMAì—ì„œ ë§Œë“  Lintë¡œ, Lintë€ ì†ŒìŠ¤ ì½”ë“œë¥¼ ë¶„ì„í•˜ì—¬ í”„ë¡œê·¸ë¨, ë¬¸ë²• ì—ëŸ¬ í˜¹ì€ ì½”ë”© ìŠ¤íƒ€ì¼ì— ëŒ€í•´ ì—ëŸ¬ë¥¼ í‘œì‹œí•´ì£¼ëŠ” ê°€ì´ë“œë¼ì¸ê³¼ ê°™ë‹¤. ESLintëŠ” ìë°”ìŠ¤í¬ë¦½íŠ¸ ë¬¸ë²•ì— ëŒ€í•´ì„œ ì—ëŸ¬ë¥¼ í‘œì‹œí•´ì¤€ë‹¤.

ì¦‰, í˜‘ì—…ì‹œì— Lintë¥¼ í†µí•´ì„œ ì½”ë”© ì»¨ë²¤ì…˜ì„ ì •í•œë‹¤ë©´ ë§ˆì¹˜ í•œ ì‚¬ëŒì´ ì½”ë”©í•œ ê²ƒê³¼ ê°™ì´ ì¼ê´€ì ì´ê²Œ ì½”ë”©í•  ìˆ˜ ìˆë‹¤.

## Prettier

ì½”ë“œ ì •ë¦¬ ê·œì¹™ì„ ì„¸ë¶€ì ìœ¼ë¡œ ì„¤ì •í•´ë†“ìœ¼ë©´, ì •í•´ë†“ì€ ê·œì¹™ì— ë§ê²Œ ìë™ìœ¼ë¡œ ì •ë ¬í•´ì„œ ê°€ë…ì„±ì„ ë†’ì´ê³  ì½”ë“œ ìŠ¤íƒ€ì¼ì„ í†µì¼í•  ìˆ˜ ìˆëŠ” í”ŒëŸ¬ê·¸ì¸ì´ë‹¤.

`ESLint`ê°€ ë¬¸ë²• ì˜¤ë¥˜ë¥¼ ì²´í¬í•´ì„œ ì•Œë ¤ì£¼ëŠ” ì—­í• ì´ë¼ë©´, `Prettier`ì€ ë¬¸ë²•ê³¼ëŠ” ìƒê´€ ì—†ì´ ë‹¨ìˆœ ì½”ë”© ìŠ¤íƒ€ì¼ë§Œì„ ì²´í¬í•´, íŒŒì¼ì„ ì €ì¥í•  ë•Œë§ˆë‹¤ ìë™ìœ¼ë¡œ ì •ë¦¬í•´ì£¼ëŠ” ì—­í• ì´ë‹¤.

## ì ìš©í•˜ê¸°

ì ìš©ì€ ë‹¤ìŒì˜ í¬ìŠ¤íŒ…ì„ ì°¸ê³ í–ˆë‹¤.

- [ESLint, Prettier ì ìš©í•˜ê¸°](https://velog.io/@recordboy/ESLint-Prettier-%EC%A0%81%EC%9A%A9%ED%95%98%EA%B8%B0)

```
$ npm init -y
$ npm i -D eslint
$ node_modules/.bin/eslint --init
```

eslint init ê³¼ì •ì—ì„œ ë‚˜ì˜¤ëŠ” ì§ˆë¬¸ì€ í”„ë¡œì íŠ¸ì—ì„œ ì‚¬ìš©í•  lintë¥¼ ì„¤ì •í•˜ëŠ” ê³¼ì •ì´ë¯€ë¡œ ì½ì–´ë³´ê³  ì •í•˜ë©´ ëœë‹¤.

- `.eslintrc.js`

```js
module.exports = {
  env: {
    browser: true,
    es2020: true,
  },
  extends: "eslint:recommended",
  parserOptions: {
    ecmaVersion: 11,
    sourceType: "module",
  },
  rules: {},
};
```

ê°ê°ì˜ ì„¤ì • ê°’ì„ ì•Œì•„ë³´ì.

- í™˜ê²½(env): í”„ë¡œì íŠ¸ì˜ ì‚¬ìš© í™˜ê²½ì„ ì„¤ì •í•œë‹¤.
- í™•ì¥(extends): ë‹¤ë¥¸ ESLint ì„¤ì •ì„ í™•ì¥í•´ì„œ ì‚¬ìš©í• ë•Œ ì„¤ì •í•œë‹¤. ìœ„ íŒŒì¼ì—ì„œëŠ” ESLintê°€ ì¶”ì²œí•˜ëŠ” ê·œì¹™ì„ ì ìš©í•˜ë¼ëŠ” ì„¤ì •ì´ë©°, ì‹¤ì œ í”„ë¡œì íŠ¸ì—ì„œëŠ” ìœ„ì—ì„œ ì–¸ê¸‰í•œ airbnbë‚˜ prettier ë“±ì„ í™•ì¥í•´ì„œ ì‚¬ìš©í•œë‹¤.
- íŒŒì„œ ì˜µì…˜(parserOptions): ESLint ì‚¬ìš©ì„ ìœ„í•´ ì§€ì›í•˜ë ¤ëŠ” Javascript ì–¸ì–´ ì˜µì…˜ì„ ì„¤ì •í•  ìˆ˜ ìˆë‹¤.
- ê·œì¹™(rules): í”„ë¡œì íŠ¸ì—ì„œ ìì²´ì ìœ¼ë¡œ ë®ì–´ì“°ê³  ì‹¶ì€ ê·œì¹™ì„ ì •ì˜í•  ë•Œ ì‚¬ìš©í•œë‹¤. [ê·œì¹™ ë¬¸ì„œ](https://eslint.org/docs/rules/)

ì´í›„ì—” prettierë¥¼ ì ìš©í•´ë³´ì.

```
$ npm i prettier eslint-plugin-prettier eslint-config-prettier -D
```

- eslint-config-prettier: ESLintì˜ formatting ê´€ë ¨ ì„¤ì • ì¤‘ Prettierì™€ ì¶©ëŒí•˜ëŠ” ë¶€ë¶„ì„ ë¹„í™œì„±í™” í•œë‹¤.
- eslint-plugin-prettier: Prettierë¥¼ ESLint í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ ì¶”ê°€í•œë‹¤. ì¦‰, Prettierì—ì„œ ì¸ì‹í•˜ëŠ” ì½”ë“œìƒì˜ í¬ë§· ì˜¤ë¥˜ë¥¼ ESLint ì˜¤ë¥˜ë¡œ ì¶œë ¥í•´ì¤€ë‹¤.

- `.eslintrc.json`

```json
{
  "plugins": ["prettier"],
  "extends": ["eslint:recommended", "plugin:prettier/recommended"],
  "rules": {
    "prettier/prettier": "error"
  }
}
```

ìœ„ì˜ íŒŒì¼ì„ ìƒì„±í•˜ì—¬ ë‚´ìš©ì„ ì¶”ê°€í•´ì£¼ë©´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì´ ë•Œ VSCodeë¥¼ ì‚¬ìš©í•œë‹¤ë©´ í™•ì¥í”„ë¡œê·¸ë¨ë„ ê°™ì´ ì„¤ì¹˜í•´ì£¼ì.

---

- 4 æ—¥

# Webpack

## Module

- í”„ë¡œê·¸ë¨ì„ êµ¬ì„±í•˜ëŠ” êµ¬ì„± ìš”ì†Œì˜ ì¼ë¶€
- ê´€ë ¨ëœ ë°ì´í„°ì™€ í•¨ìˆ˜ë“¤ì´ ë¬¶ì—¬ì„œ ëª¨ë“ˆì„ í˜•ì„±í•˜ê³  íŒŒì¼ ë‹¨ìœ„ë¡œ ë‚˜ë‰˜ëŠ” ê²ƒì´ ì¼ë°˜ì ì´ë‹¤.
- ëª¨ë“ˆí™” í”„ë¡œê·¸ë˜ë°ì€ ê¸°ëŠ¥ë³„ë¡œ íŒŒì¼ì„ ë‚˜ëˆ ê°€ë©° í”„ë¡œê·¸ë˜ë°ì„ í•˜ëŠ” ê²ƒìœ¼ë¡œ ìœ ì§€ë³´ìˆ˜ê°€ ì‰½ë‹¤ëŠ” ì¥ì ì´ ìˆë‹¤.

## Bundler

- ë²ˆë“¤ëŸ¬ëŠ” ì§€ì •í•œ ë‹¨ìœ„ë¡œ íŒŒì¼ë“¤ì„ í•˜ë‚˜ë¡œ ë§Œë“¤ì–´ì„œ ìš”ì²­ì— ëŒ€í•œ ì‘ë‹µìœ¼ë¡œ ì „ë‹¬í•  ìˆ˜ ìˆëŠ” í™˜ê²½ì„ ë§Œë“¤ì–´ì£¼ëŠ” ì—­í• ì„ í•œë‹¤.
- ë²ˆë“¤ëŸ¬ë¥¼ ì‚¬ìš©í•˜ë©´ ì†ŒìŠ¤ ì½”ë“œë¥¼ ëª¨ë“ˆë³„ë¡œ ì‘ì„±í•  ìˆ˜ ìˆê³  ëª¨ë“ˆê°„ ë˜ëŠ” ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ ì˜ì¡´ì„±ë„ ì‰½ê²Œ ê´€ë¦¬í•  ìˆ˜ ìˆë‹¤.

## Webpack

- ì›¹íŒ©(Webpack)ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì •ì  ëª¨ë“ˆ ë²ˆë“¤ëŸ¬(Static Module Bundler)ì´ë‹¤
- ì›¹íŒ©ì—ì„œ ëª¨ë“  ê²ƒì€ ëª¨ë“ˆì´ë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸, ìŠ¤íƒ€ì¼ì‹œíŠ¸, ì´ë¯¸ì§€ ë“± ëª¨ë“  ê²ƒì„ ìë°”ìŠ¤í¬ë¦½íŠ¸ ëª¨ë“ˆë¡œ ë¡œë”©í•´ì„œ ì‚¬ìš©í•œë‹¤.
- ì›¹íŒ©ì˜ ì£¼ìš” ë„¤ ê°€ì§€ ê°œë…ìœ¼ë¡œ Entry, Output, Loader, Pluginì´ ìˆë‹¤.

1. Entry:

   - ì˜ì¡´ì„± ê·¸ë˜í”„ì˜ ì‹œì‘ì ì„ ì›¹íŒ©ì—ì„œëŠ” ì—”íŠ¸ë¦¬(Entry)ë¼ê³  í•œë‹¤.
   - ì›¹íŒ©ì€ ì—”íŠ¸ë¦¬ë¥¼ í†µí•´ì„œ í•„ìš”í•œ ëª¨ë“ˆì„ ë¡œë”©í•˜ê³  í•˜ë‚˜ì˜ íŒŒì¼ë¡œ ë¬¶ëŠ”ë‹¤.
   - ì—¬ëŸ¬ê°œì˜ ì—”íŠ¸ë¦¬ê°€ ì¡´ì¬í•  ìˆ˜ ìˆë‹¤.

2. Output:

   - ì—”íŠ¸ë¦¬ì— ì„¤ì •í•œ ìë°”ìŠ¤í¬ë¦½íŠ¸ íŒŒì¼ì„ ì‹œì‘ìœ¼ë¡œ í•˜ë‚˜ë¡œ ë¬¶ëŠ”ë‹¤. ê·¸í›„ ë²ˆë“¤ëœ ê²°ê³¼ë¬¼ì„ ì²˜ë¦¬í•  ìœ„ì¹˜ë¥¼ outputì— ê¸°ë¡í•œë‹¤.

3. Loader

   - ì›¹íŒ©ì€ ì˜¤ì§ JavaScriptì™€ Jsonë§Œ ì´í•´í•  ìˆ˜ ìˆë‹¤.
   - ë¡œë”ëŠ” ë‹¤ë¥¸ Typeì˜ íŒŒì¼(img, font, stylesheet ë“±)ì„ ì›¹íŒ©ì´ ì´í•´í•˜ê³  ì²˜ë¦¬ ê°€ëŠ¥í•œ ëª¨ë“ˆë¡œ ë³€í™˜ ì‹œí‚¤ëŠ” ì‘ì—…ì„ í•œë‹¤.

4. Plugin

   - ë¡œë”ê°€ íŒŒì¼ë‹¨ìœ„ë¡œ ì²˜ë¦¬í•˜ëŠ” ë°˜ë©´ í”ŒëŸ¬ê·¸ì¸ì€ ë²ˆë“¤ëœ ê²°ê³¼ë¬¼ì„ ì²˜ë¦¬í•œë‹¤.
   - ë¡œë”ê°€ ë³€í™˜í•˜ëŠ” ë™ì•ˆ í”ŒëŸ¬ê·¸ì¸ì€ bundle optimization, asset management and injection of environmentê³¼ ê°™ì€ ì¼ì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

## ë ˆí¼ëŸ°ìŠ¤

- [Webpack ê¸°ì´ˆ](https://velog.io/@hih0327/Webpack-%EA%B8%B0%EC%B4%88)
- [Webpackì´ë€?](https://nesoy.github.io/articles/2019-02/Webpack)

---

- 5 æ—¥

# Webpack

## SCSS ì˜ˆì œ

```js
const path = require("path");

const MiniCssExtractPlugin = require("mini-css-extract-plugin");

const MODE = process.env.WEBPACK_ENV;
const ENTRY_FILE = path.resolve(__dirname, "assets", "js", "main.js");
const OUTPUT_DIR = path.join(__dirname, "static");

const config = {
  entry: ENTRY_FILE,
  mode: MODE,
  module: {
    rules: [
      {
        test: /\.(scss)$/,
        use: [
          {
            loader: MiniCssExtractPlugin.loader,
          },
          {
            loader: "css-loader",
          },
          {
            loader: "postcss-loader",
            options: {
              postcssOptions: {
                plugins: [
                  [
                    "autoprefixer",
                    {
                      browsers: "cover 99.5%",
                    },
                  ],
                ],
              },
            },
          },
          {
            loader: "sass-loader",
          },
        ],
      },
    ],
  },
  output: {
    path: OUTPUT_DIR,
    filename: "[name].js",
  },
  plugins: [
    new MiniCssExtractPlugin({
      // Options similar to the same options in webpackOptions.output
      // both options are optional
      filename: "[name].css",
    }),
  ],
};

module.exports = config;
```

`assets/js/main.js`ë¥¼ Entryë¡œ Static í´ë”ì— ê²°ê³¼ë¬¼ì„ ì‘ì„±í•œë‹¤. ì´ ë•Œ main.jsëŠ” `import "../scss/style.scss";` í•œ ì¤„ì„ ë„£ê³  í…ŒìŠ¤íŠ¸ë¥¼ í•´ë³¸ë‹¤.

entry, mode, module, output, pluginì„ ì„¤ì •í•˜ê³  webpackì„ ì‹¤í–‰í•˜ë©´ í•´ë‹¹ ë¶€ë¶„ì´ static í´ë”ì— ìƒì„±ëœë‹¤. ëª…ë ¹ì–´ëŠ”

```json
"dev:assets": "cross-env WEBPACK_ENV=development webpack",
"build:assets": "cross-env WEBPACK_ENV=production webpack"
```

ì´ë ‡ê²Œ ì§€ì •í•˜ì˜€ë‹¤. WEBPACK_ENVëŠ” `webpack.config.js`ì˜ MODEì— ë„£ì–´ì¤€ ë¬¸ìì—´ì´ê³ , cross-envëŠ” ë¬¸ìì—´ì„ ì°¾ê¸° ìœ„í•´ ë„ì™€ì£¼ê¸° ìœ„í•´ ì„¤ì¹˜í•œ íŒ¨í‚¤ì§€ì´ë‹¤.

moduleì—ì„œ ruleì€ ë°‘ì—ì„œë¶€í„° ìœ„ë¡œ ì‹¤í–‰ì´ ëœë‹¤. ë”°ë¼ì„œ SCSSë¥¼ sass -> postcss -> css ìˆœì„œë¡œ í•´ì„í•˜ì—¬ output PATHì— ë„£ì–´ì¤€ë‹¤.

---

# PS

- ë¨¸ë¦¬ í†¡í†¡

```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
	ios::sync_with_stdio(0);
	cin.tie(0);
	int n, size = 0;
	cin >> n;
	vector<int> v(n), num, ans(n);
	for (int i=0; i<n; i++) {
		cin >> v[i];
		size = max(size, v[i]);
	}
	num.resize(size+1);
	for (int i=0; i<n; i++)
		num[v[i]]++;

	for (int i=0; i<n; i++) {
		for (int j=1; j*j<=v[i]; j++) {
			if(v[i] % j == 0) {
				if(v[i] / j != j)
					ans[i] += num[v[i]/j];
				ans[i] += num[j];
			}
		}
	}
	for (int i=0; i<n; i++)
		cout << ans[i]-1 << '\n';
}
```

1ë²ˆë¶€í„° Në²ˆ í•™ìƒê¹Œì§€ í•œ ëª…ì”© ì°¨ë¡€ëŒ€ë¡œ ì¼ì–´ë‚˜ ì›ì„ ëŒë©´ì„œ ìì‹ ì´ ì“´ ìˆ«ìê°€ ë‹¤ë¥¸ ì‚¬ëŒì´ ì“´ ìˆ«ìì˜ ë°°ìˆ˜ì´ë©´ ê·¸ í•™ìƒì˜ ë¨¸ë¦¬ë¥¼ "í†¡í†¡" ì¹œë‹¤. ìê¸°ê°€ ì´ ëª‡ ëª…ì˜ í•™ìƒì˜ ë¨¸ë¦¬ë¥¼ ì¹˜ëŠ”ì§€ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹¤.

ë°°ìˆ˜ë¥¼ êµ¬í•˜ê¸°ë³´ë‹¤ëŠ” ì•½ìˆ˜ë¥¼ êµ¬í•´ì„œ í•´ê²°í•˜ëŠ” ë°©ì‹ì„ íƒí–ˆë‹¤. ë˜í•œ, ì™„ì „íƒìƒ‰ì˜ ê²½ìš° ì ì–´ë„ 1,000,000 \* 500,000ìœ¼ë¡œ ì œí•œì‹œê°„ì¸ 2ì´ˆë¥¼ ë„˜ì„ ê²ƒì´ë¯€ë¡œ, ì•½ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ì•Œê³ ë¦¬ì¦˜ì„ í†µí•´ ì•½ìˆ˜ A, Bì˜ ê³±ì€ v[i]ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìœ¼ë‚˜ ì œê³±ìˆ˜ì˜ ê²½ìš°ì—ëŠ” ê·¸ì˜ ì§ì´ ì—†ìœ¼ë¯€ë¡œ í•´ë‹¹ ê°’ë§Œ ë”í•´ì¤€ë‹¤. ë”°ë¼ì„œ ë‹¤ë¥¸ ê°’ë“¤ì€ ê·¸ì˜ ì§ë„ ë”í•´ì¤€ë‹¤.

ì´í›„ ì¶œë ¥ì—ëŠ” ìê¸° ìì‹ ë„ í¬í•¨ì´ ë˜ë¯€ë¡œ 1ì„ ì œí•˜ì—¬ ì¶œë ¥í•´ì¤€ë‹¤.

---

- 7 æ—¥

# Nodejs & MongoDB ë¡œê·¸ì¸ êµ¬í˜„

Nodejsë¡œ êµ¬í˜„ëœ ì• í”Œë¦¬ì¼€ì´ì…˜ì—ì„œ MongoDBë¥¼ ì‚¬ìš©í•œ ìœ ì € ë¡œê·¸ì¸ êµ¬í˜„ìœ¼ë¡œ, Mongoose ODMê³¼ Passport, connect-mongo, express-sessionê³¼ ê°™ì€ ì„œë“œíŒŒí‹°ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•˜ì˜€ë‹¤.

## ì„¤ì •

### DB ì„¤ì • íŒŒì¼

```js
import mongoose from "mongoose";
import dotenv from "dotenv";

dotenv.config();

mongoose.connect(process.env.MONGO_URL, {
  useNewUrlParser: true,
  useFindAndModify: false,
});

const db = mongoose.connection;

const handleOpen = () => console.log("âœ… Connected to DB");
const handleError = (error) =>
  console.log(`âŒ Error on DB Connection: ${error}`);

db.once("open", handleOpen);
db.on("error", handleError);
```

### app ì„¤ì •

```js
app.use(
  session({
    secret: process.env.COOKIE_SECRET,
    resave: true,
    saveUninitialized: false,
    store: new CookieStore({ mongooseConnection: mongoose.connection }),
  })
);
app.use(passport.initialize());
app.use(passport.session());
```

express-sessionì„ ì´ìš©í•˜ì—¬ sessionì„ ì •ì˜í•˜ê³  store ì˜µì…˜ì˜ ê²½ìš°ì—ëŠ” connect-mongoë¥¼ ì´ìš©í•˜ì—¬ ì„œë²„ê°€ ì¬ì‹œì‘ë˜ë”ë¼ë„ ì¿ í‚¤ ê°’ì„ ì €ì¥í•  ìˆ˜ ìˆëŠ” ì €ì¥ì†Œë¡œ ë§ˆë ¨í–ˆë‹¤. passportë¥¼ ì´ˆê¸°í™”í•˜ê³  ì„¸ì…˜ì„ ì„¤ì •í•˜ì—¬ ë¡œê·¸ì¸ì´ ë˜ë©´ ì¿ í‚¤ ê°’ì„ ë¸Œë¼ìš°ì €ì— ì €ì¥í•  ìˆ˜ ìˆê²Œ í•˜ì˜€ë‹¤.

### Model êµ¬í˜„

- User Model êµ¬í˜„

```js
import mongoose from "mongoose";
import passportLocalMongoose from "passport-local-mongoose";

const UserSchema = new mongoose.Schema({
  name: String,
  email: String,
  avatarUrl: String,
  facebookId: Number,
  githubId: Number,
});

UserSchema.plugin(passportLocalMongoose, { usernameField: "email" });

const model = mongoose.model("User", UserSchema);

export default model;
```

mongooseë¥¼ ì´ìš©í•˜ì—¬ MongoDB ìœ ì € ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•œ í›„ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ”ë° ì´ ë•Œ í”ŒëŸ¬ê·¸ì¸ìœ¼ë¡œ passport-local-mongooseë¥¼ ì‚¬ìš©í•˜ì—¬ passport ì„œë“œíŒŒí‹° ì¤‘ local ì „ëµì„ mongooseì™€ í•¨ê»˜ ì‚¬ìš©í•˜ê¸° ìš©ì´í•˜ê²Œ í•˜ê³ , ìœ ì €ë¥¼ êµ¬ë¶„í•˜ëŠ” í•„ë“œë¥¼ emailë¡œ ì§€ì •í•´ì¤€ë‹¤.

### Passport ì„¤ì •

```js
import passport from "passport";
import User from "./models/User";

passport.use(User.createStrategy());

passport.serializeUser(User.serializeUser());
passport.deserializeUser(User.deserializeUser());
```

passportë¥¼ ê°„ë‹¨í•˜ê²Œ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œ ìŠ¤í‚¤ë§ˆì˜ ì „ëµì„ ìë™ìœ¼ë¡œ ìƒì„±í•˜ê²Œ í•œ í›„ serializeUserì™€ deserializeUserëŠ” ì´ë¯¸ ì •ì˜ëœ ìŠ¤í‚¤ë§ˆì˜ í•¨ìˆ˜ë¥¼ ì´ìš©í•˜ì—¬ ê°„ë‹¨í•˜ê²Œ ì •ì˜í–ˆë‹¤. ì •ì˜ëŠ” ê°„ë‹¨í•˜ì§€ë§Œ í•´ë‹¹ ë¶€ë¶„ì„ ì„¤ì •í•¨ìœ¼ë¡œì¨ ë§¤ìš° í¸í•˜ê²Œ ìœ ì € ì¸ì¦ ê³¼ì •ì„ ì§„í–‰í•  ìˆ˜ ìˆë‹¤.

## íšŒì›ê°€ì…

- íšŒì›ê°€ì…: postë¡œ íšŒì›ê°€ì… ìš”ì²­ì´ ì˜¨ ê²½ìš° ì²˜ë¦¬ í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬

```js
export const join = async (req, res, next) => {
  const {
    body: { name, email, password, password2 },
  } = req;

  if (password !== password2) {
    res.status(400);
    res.render("join", { pageTitle: "Join" });
  } else {
    try {
      const user = await User({
        name,
        email,
      });
      await User.register(user, password);
      next();
    } catch (error) {
      console.log(error);
      res.redirect(routes.home);
    }
  }
};
```

user ê°ì²´ë¥¼ ë§Œë“  ë’¤ User ìŠ¤í‚¤ë§ˆì— `register()`ë¥¼ ì´ìš©í•˜ì—¬ í•œë²ˆì— ìœ ì €ë¥¼ ìƒì„±í•  ìˆ˜ ìˆë‹¤.

## ë¡œê·¸ì¸

- ë¡œê·¸ì¸: íšŒì›ê°€ì… í›„ postë¡œ ë¡œê·¸ì¸ ìš”ì²­ì‹œ ì²˜ë¦¬í•˜ëŠ” ì»¨íŠ¸ë¡¤ëŸ¬

```js
export const login = passport.authenticate("local", {
  failureRedirect: routes.login,
  successRedirect: routes.home,
});
```

passport ì¤‘ local ì „ëµìœ¼ë¡œ ì¸ì¦ì„ í•˜ëŠ” ë¶€ë¶„ìœ¼ë¡œ ì„±ê³µì‹œì—ëŠ” í™ˆ, ì‹¤íŒ¨ì‹œì—ëŠ” ë¡œê·¸ì¸ í™”ë©´ìœ¼ë¡œ ë¦¬ë‹¤ì´ë ‰íŠ¸ í•˜ë„ë¡ ì»¨íŠ¸ë¡¤ëŸ¬ë¥¼ ì§°ë‹¤.

## ê²°ê³¼

ì„œë“œíŒŒí‹°ë“¤ì„ ì´ìš©í•˜ì—¬ ì´ë¯¸ ì •ì˜ëœ í•¨ìˆ˜ë¡œ ì„¤ì •ì„ í•˜ê²Œ ë˜ë©´, í›¨ì”¬ í¸í•˜ê²Œ MongoDBë¥¼ ì´ìš©í•˜ì—¬ ìœ ì € ë¡œê·¸ì¸ê³¼ íšŒì›ê°€ì…ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤. ì„œë“œíŒŒí‹°ì˜ ê°¯ìˆ˜ê°€ ë§ì§€ë§Œ ì—¬ëŸ¬ ê°€ì§€ ê¸°ëŠ¥ì„ ê¸°ì–µí•˜ë©´ ë„ì›€ì´ ëœë‹¤.

ê·¸ ì¤‘ ê°€ì¥ ë„ì›€ì´ ëœ ê²ƒì€ ì—­ì‹œ passportì™€ express-sessionì¼ ê²ƒ ê°™ë‹¤. sessionì„ ì„¤ì •í•˜ë ¤ë©´ í•„ìš”í•œ express-sessionê³¼ ì¸ì¦ ê³¼ì •ì„ í¸í•˜ê²Œ í•´ì£¼ëŠ” passportëŠ” ë‹¤ë¥¸ DBMSë¥¼ ì‚¬ìš©í•˜ë”ë¼ë„ í•„ìš”í•  ê²ƒ ê°™ë‹¤.

---

- 8 æ—¥

# PS

- `1038. ê°ì†Œí•˜ëŠ” ìˆ˜`

```cpp
#include <bits/stdc++.h>
using namespace std;

int main() {
	ios::sync_with_stdio(0);
	cin.tie(0);
	vector<long long> v;
	int n;
	cin >> n;

	for (int i=1; i<=1023; i++) {
		long long num = 0;
		int temp = i;
		for (int idx=9; idx>=0; idx--) {
			if(temp&1)
				num = 10*num + idx;
			temp /= 2;
		}
		v.push_back(num);
	}
	sort(v.begin(), v.end());

	if(n > 1022)
		cout << "-1";
	else
		cout << v[n];
}
```

0ë¶€í„° ë°±ë§Œê¹Œì§€ì˜ ìì—°ìˆ˜ ì¤‘ ìë¦¿ìˆ˜ê°€ ê±°ë“­ë  ìˆ˜ë¡ ì‘ì•„ì§€ëŠ” ìˆ˜ë¥¼ ê°ì†Œí•˜ëŠ” ìˆ˜ë¼ê³  ì¹­í•˜ê³  ì£¼ì–´ì§„ ê°’ë§Œí¼ì˜ ìˆœì„œì˜ ê°ì†Œí•˜ëŠ” ìˆ˜ë¥¼ êµ¬í•˜ëŠ” ë¬¸ì œì´ë‹¤. ì´ ë¬¸ì œì—ì„œëŠ” ë°±ë§Œê¹Œì§€ë¼ í–ˆìœ¼ë‚˜, ì •í™•íˆëŠ” 2^10-1ê°œì¸ 1023ê°œì˜ ê°ì†Œí•˜ëŠ” ìˆ˜ê°€ ì¡´ì¬í•œë‹¤. 9876543210ì´ ìµœëŒ“ê°’ì´ë¯€ë¡œ ê·¸ë ‡ë‹¤ê³  ë³¼ ìˆ˜ ìˆë‹¤. ë”°ë¼ì„œ í•´ë‹¹í•˜ëŠ” ê°’ì„ ëª¨ë‘ ë²¡í„°ì— ì§‘ì–´ ë„£ê³  ì •ë ¬í•œ ë’¤ ì›í•˜ëŠ” ìˆœì„œì˜ ìˆ«ìë¥¼ êº¼ë‚´ë©´ ëœë‹¤.

- `1747. ì†Œìˆ˜&íŒ°ë¦°ë“œë¡¬`

```cpp
#include <bits/stdc++.h>
using namespace std;

const int MAX = 1e6*2;

bool isPrime[MAX];

bool is_palindrome(string a, string b) {
	return a == b;
}

void primeInit() {
	for (int i=2; i*i<=MAX; i++) {
		if(!isPrime[i])
			for(int j=i*i; j<=MAX; j+=i)
				isPrime[j] = true;
	}
}

int main() {
	ios::sync_with_stdio(0);
	cin.tie(0);
	int n;
	cin >> n;
	isPrime[1] = true;
	primeInit();

	while(1) {
		string s, r;

		s = to_string(n);
		r = to_string(n);
		reverse(r.begin(), r.end());
		if(is_palindrome(s, r)) {
			if(!isPrime[n])
				break;
		}
		n++;
	}
	cout << n;
}
```

ì´ ë¬¸ì œëŠ” íŒ°ë¦°ë“œë¡¬ì´ë©´ì„œ ì†Œìˆ˜ì¸ ìˆ˜ë¥¼ ì°¾ëŠ” ë¬¸ì œë¡œ, ì£¼ì–´ì§„ ìˆ˜ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ì€ ì†Œìˆ˜ì´ë©´ì„œ íŒ°ë¦°ë“œë¡¬ì¸ ìˆ«ìë¥¼ ì°¾ìœ¼ë©´ ëœë‹¤. ë”°ë¼ì„œ ì£¼ì–´ì§„ ìˆ«ìë¶€í„° íŒ°ë¦°ë“œë¡¬ì„ ì²´í¬í•œ ë’¤ ì†Œìˆ˜ë¥¼ ì²´í¬í•´ì„œ ì¡°ê±´ì— ë¶€í•©í•˜ëŠ” ìˆ«ìë¥¼ ì¶œë ¥í•˜ë©´ ëœë‹¤. ì´ ë•Œ íŒ°ë¦°ë“œë¡¬ì€ reverse í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ ë’¤ì§‘ì€ ê°’ì´ ê°™ì€ ìˆ«ìë¥¼ ì°¾ì•˜ê³ , ì†Œìˆ˜ëŠ” ì—ë¼í† ìŠ¤í…Œë„¤ìŠ¤ì˜ ì²´ë¥¼ ì´ìš©í•´ì„œ ì°¾ì•˜ë‹¤.

---

# passport-Github

í”íˆë“¤ ì‚¬ìš©í•˜ëŠ” ì„œë¹„ìŠ¤ ì¤‘ì—ì„œ Github ì•„ì´ë””ë¥¼ í†µí•´ì„œ ê°€ì…í•˜ê±°ë‚˜ ë¡œê·¸ì¸í•˜ì—¬ í•´ë‹¹ ì„œë¹„ìŠ¤ë¥¼ ì§„í–‰í•˜ëŠ” ê²ƒì„ ë³´ì•˜ì„ ê²ƒì´ë‹¤. ê·¸ ë¶€ë¶„ì„ ë„ì™€ì£¼ëŠ” ì„œë“œíŒŒí‹°ë¡œ, Passport ì „ëµ ì¤‘ Gtihubì„ ì„ íƒí•´ì„œ ì‚¬ìš©í•  ë•Œ ë§¤ìš° í¸í•œ ê¸°ëŠ¥ì„ ê°€ì§„ ì„œë“œíŒŒí‹°ì´ë‹¤.

- [ê°€ì´ë“œë¼ì¸](http://www.passportjs.org/packages/passport-github/)

## ì„¤ì¹˜

```
$ npm install passport-github
```

## ì‚¬ìš©

ë¨¼ì € Githubì—ì„œ [Github Developer Applications ë“±ë¡](https://github.com/settings/applications/new)í•˜ê³  ì§„í–‰í•´ì•¼ í•œë‹¤.

```js
var GitHubStrategy = require("passport-github").Strategy;

passport.use(
  new GitHubStrategy(
    {
      clientID: GITHUB_CLIENT_ID,
      clientSecret: GITHUB_CLIENT_SECRET,
      callbackURL: "http://127.0.0.1:3000/auth/github/callback",
    },
    function (accessToken, refreshToken, profile, cb) {
      User.findOrCreate({ githubId: profile.id }, function (err, user) {
        return cb(err, user);
      });
    }
  )
);
```

ê°€ì´ë“œë¼ì¸ì—ì„œëŠ” ìœ„ì™€ ê°™ì´ ì•ˆë‚´í•˜ê³  ìˆëŠ”ë° JS ë²„ì „ì— ë§ì¶°ì„œ ë³€í™”ë¥¼ ì¤„ ìˆ˜ ìˆë‹¤. clientIDì™€ Secretì˜ ê²½ìš°ì—ëŠ” Github Oauth application settingì—ì„œ ê°’ì„ í™•ì¸í•  ìˆ˜ ìˆë‹¤. ì´í›„ì—ëŠ” .env íŒŒì¼ì„ í†µí•´ì„œ ì ‘ê·¼í•˜ê²Œ ë˜ë©´ ë³´ì•ˆì— ìš©ì´í•˜ë‹¤. CallbackURLë„ ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±ë¡í•  ë•Œ ì •í•œ CallbackURLì„ ì ìœ¼ë©´ ëœë‹¤.

ê·¸ ë’¤ í•¨ìˆ˜ë¥¼ í†µí•´ì„œ ìœ ì €ë¥¼ ì°¾ê±°ë‚˜ ìƒì„±í•  ìˆ˜ ìˆëŠ”ë°, ì´ í•¨ìˆ˜ëŠ” ë°”ê¿”ì„œ ì‚¬ìš©í•´ë„ ì¢‹ë‹¤. ë¨¼ì € ìœ ì €ë¥¼ ì°¾ì€ ë’¤ ì´ë©”ì¼ ë“±ì„ ë¹„êµí•˜ì—¬ ê°™ë‹¤ë©´, Github IDë¥¼ ì¶”ê°€í•˜ëŠ” ì‹ìœ¼ë¡œ ì§„í–‰í•˜ê³  ì—†ë‹¤ë©´ ìƒˆë¡œìš´ ìœ ì €ë¥¼ ìƒì„±í•˜ëŠ” ì‹ìœ¼ë¡œ ì§„í–‰í•´ë„ ì¢‹ë‹¤. ë˜í•œ profileì—ëŠ” id, email, name, avatar_URL ë“± ì—¬ëŸ¬ ê°€ì§€ ì‚¬ìš©ì ì •ë³´ë¥¼ ì œê³µí•˜ë¯€ë¡œ, ìì‹ ì˜ ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸ì— ë§ëŠ” ì •ë³´ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

cbì˜ ê²½ìš°ì—ëŠ” ì—ëŸ¬ì™€ ì°¾ì€ ìœ ì € í˜¹ì€ ìƒì„±í•œ ìœ ì €ë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ë„˜ê¸°ë©´ ëœë‹¤. ì—ëŸ¬ë¥¼ ìºì¹˜í•˜ëŠ” ê²½ìš°ì—ëŠ” `cb(error)` ë“± ì—ëŸ¬ë§Œ ë„˜ê¸°ë©´ ë˜ë©°, ì„±ê³µì ìœ¼ë¡œ ì´ë¤„ì¡Œë‹¤ë©´ ì°¾ì€ ìœ ì € í˜¹ì€ ìƒì„±í•œ ìœ ì €ì˜ ê°ì²´ë¥¼ ë„£ì–´ì£¼ë©´ ëœë‹¤.

ì´ ë¶€ë¶„ì„ Expressì˜ Routeë¥¼ ì ìš©í•˜ì—¬ Callbackê³¼ passport-githubì„ ë¶„ë¦¬í•˜ê³  ì‚¬ìš©í•˜ëŠ” ì½œë°±í•¨ìˆ˜ë„ ë¶„ë¦¬í•˜ì—¬ì„œ ëª¨ë“ˆë¡œ ê°€ì ¸ë‹¤ê°€ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤. ì¶”ê°€ì ìœ¼ë¡œ ë¡œê·¸ì•„ì›ƒì€ `req.logout()`í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ passportì—ì„œ ì•Œì•„ì„œ ì¿ í‚¤ì™€ ë¡œê·¸ì¸ ì •ë³´ë¥¼ ì—†ì• ê³  ë¡œê·¸ì•„ì›ƒì„ ê°€ëŠ¥í•˜ê²Œ í•œë‹¤.

---

- 9 æ—¥

# passport-facebook

passportë¡œ facebook ì•„ì´ë””ë¥¼ ì´ìš©í•´ì„œ ì¸ì¦ì„ í•  ìˆ˜ ìˆê²Œ í•´ì£¼ëŠ” ì„œë“œíŒŒí‹°ì´ë‹¤. ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì— ë¹„í•´ì„œ í˜ì´ìŠ¤ë¶ì€ ìƒë‹¹íˆ ê¹ê¹í•˜ë‹¤. ë”°ë¼ì„œ ì§„í–‰í•˜ë©´ì„œ ìƒê¸´ ì‹œí–‰ì°©ì˜¤ì— ëŒ€í•´ì„œ ë©”ëª¨í•˜ë ¤í•œë‹¤.

- [ê°€ì´ë“œë¼ì¸](http://www.passportjs.org/packages/passport-facebook/)

## ì„¤ì¹˜

```
$ npm install passport-facebook
```

## ì‚¬ìš©

ë¨¼ì € [í˜ì´ìŠ¤ë¶ ê°œë°œì](https://developers.facebook.com/)ì— ë“±ë¡í•œ ë’¤ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒì„±í•´ì•¼í•œë‹¤. ê·¸ ì´í›„ì— ë‹¤ë¥¸ passport ì„œë“œíŒŒí‹°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ í´ë¼ì´ì–¸íŠ¸ IDì™€ Secretì„ ë°›ì•„ì„œ ì• í”Œë¦¬ì¼€ì´ì…˜ì— ê¸°ì…í•´ì¤€ë‹¤. ì´í›„ì— ì½œë°±í•¨ìˆ˜ê¹Œì§€ passportì˜ í…œí”Œë¦¿ì— ë§ì¶°ì„œ ì‘ì„±í•˜ëŠ” ê²ƒê¹Œì§€ ë™ì¼í•˜ë‹¤.

```js
passport.use(
  new FacebookStrategy(
    {
      clientID: FACEBOOK_APP_ID,
      clientSecret: FACEBOOK_APP_SECRET,
      callbackURL: "http://localhost:3000/auth/facebook/callback",
    },
    function (accessToken, refreshToken, profile, cb) {
      User.findOrCreate({ facebookId: profile.id }, function (err, user) {
        return cb(err, user);
      });
    }
  )
);
```

ë”°ë¼ì„œ ì—¬ê¸°ê¹Œì§„ ì´ì „ì— githubì—ì„œ ì‘ì„±í•œ ë‚´ìš©ì„ ì°¸ê³ í•˜ì—¬ ì‚¬ìš©í•˜ë©´ ëœë‹¤. í˜ì´ìŠ¤ë¶ì´ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì™€ ë‹¤ë¥¸ ì ì€ ë°”ë¡œ https ë³´ì•ˆ ì—°ê²°ë§Œ ë°›ì•„ì¤€ë‹¤ëŠ” ê²ƒì´ë‹¤. ë”°ë¼ì„œ ì½œë°±í•¨ìˆ˜ì—ì„œ ë¦¬ë‹¤ì´ë ‰íŠ¸ë˜ëŠ” URLì´ httpsì—¬ì•¼í•œë‹¤ëŠ” ê²ƒì´ë‹¤. ì´ë§ì€ ì¦‰, ê°œë°œí•œ ì•± ìì²´ê°€ ë³´ì•ˆ ì—°ê²°ë¡œ ì´ë¤„ì ¸ì•¼ í•œë‹¤ëŠ” ë§ì´ë‹¤.

í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•´ì„œ `localtunnel` ì„œë“œíŒŒí‹°ë¥¼ ë°›ì•„ì„œ ì„ì‹œë¡œ ë³´ì•ˆ ì—°ê²° URLì„ ìƒì„±í•˜ì—¬ í˜ì´ìŠ¤ë¶ ê°œë°œ ì•± ì„¤ì •ì— ë“±ë¡í•˜ì˜€ìœ¼ë‚˜, ì„ì‹œë¡œ ìƒì„±í•œ URLì´ë¼ ê·¸ëŸ°ê±´ì§€ ì•„ë‹ˆë©´ ë‹¤ë¥¸ ì´ìœ ì¸ì§€ëŠ” í™•ì‹¤ì¹˜ ì•Šìœ¼ë‚˜ ì•…ì˜ê°€ ìˆëŠ” URLì´ë¼ê³  ê±°ì ˆ ë‹¹í–ˆë‹¤. ì´ì™¸ì—ë„ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë¼ì´ë¸Œ ëª¨ë“œë¡œ ë°”ê¿€ë ¤ë©´ ì—¬ëŸ¬ URLì„ ê¸°ì…í•´ì•¼í•˜ëŠ”ë°, ì „ë¶€ httpsë¥¼ ì§€ì›í•´ì•¼í•œë‹¤. í…ŒìŠ¤íŠ¸ë¥¼ ìœ„í•œ ì•± ì™¸ì— ì •ì‹ìœ¼ë¡œ ì¶œì‹œí•œ í›„ ë³´ì•ˆ ì—°ê²°ì„ ì·¨ë“í•œ ë’¤ ì‚¬ìš©í•´ì•¼í•  ê²ƒ ê°™ë‹¤.

ë‹¤ë¥¸ ì„œë“œíŒŒí‹°ì™€ ë§ˆì°¬ê°€ì§€ë¡œ passportê°€ ì›í•˜ëŠ” ì„¤ì • ê°’ì„ ë‹¤ ê¸°ì…í–ˆìœ¼ë‚˜, ì´ëŸ¬í•œ ë¬¸ì œë¡œ ì„±ê³µì ìœ¼ë¡œ ì™„ë£Œí•˜ì§€ ëª»í–ˆë‹¤. í—ˆë‚˜, ë‹¤ë¥¸ ì¹´ì¹´ì˜¤ë‚˜ ë„¤ì´ë²„, êµ¬ê¸€ê³¼ ê°™ì€ ì„œë¹„ìŠ¤ì™€ì˜ ì—°ê²°ì€ ê¹ƒí—ˆë¸Œë¥¼ ì‚¬ìš©í•œ ì—°ê²°ê³¼ ë§¤ìš° í¡ì‚¬í•˜ë¯€ë¡œ ê°€ì´ë“œë¼ì¸ì„ ì°¸ê³ í•˜ì—¬ì„œ ì§„í–‰í•˜ë©´ ëœë‹¤.

- [passport-kakao](http://www.passportjs.org/packages/passport-kakao/)
- [passport-naver](http://www.passportjs.org/packages/passport-naver/)
- [passport-google](http://www.passportjs.org/packages/passport-google/)

ì¶”ê°€ì ìœ¼ë¡œ passportì—ì„œ ë‹¤ë¥¸ ì„œë¹„ìŠ¤ì™€ ì—°ê²°í•˜ì—¬ ì¸ì¦í•˜ëŠ” ë¶€ë¶„ì€ OAuth 2.0ì„ ëª¨ë‘ ì´ìš©í•˜ëŠ” ê²ƒ ê°™ë‹¤.

---

- 10 æ—¥

# Passport-local-mongooseë¥¼ ì´ìš©í•œ ChangePassword

- [Passport-local-mongoose ë ˆí¬ì§€í† ë¦¬](https://github.com/saintedlama/passport-local-mongoose)

Passport-local-mongoose ì„œë“œíŒŒí‹°ë¥¼ ì´ìš©í•˜ì—¬ MongoDBì— ë“±ë¡ëœ ì‚¬ìš©ìì˜ íŒ¨ìŠ¤ì›Œë“œë¥¼ ë³€ê²½í•  ë•Œ ì‚¬ìš©í•˜ëŠ” í•¨ìˆ˜ì— ëŒ€í•´ ì•Œì•„ë³´ì. ì´ë¯¸ ì„œë“œíŒŒí‹°ì—ì„œ ê°œë°œìê°€ í¸ë¦¬í•˜ê²Œ ì´ìš©í•˜ê²Œ í•¨ìˆ˜ë¡œ êµ¬í˜„ë˜ì–´ ì œê³µëœë‹¤. ë‹¤ìŒê³¼ ê°™ì€ ì„¤ëª…ì„ í†µí•´ í•¨ìˆ˜ë¥¼ ì´í•´í•  ìˆ˜ ìˆë‹¤.

> changePassword(oldPassword, newPassword, [cb])
>
> > Changes a user's password hash and salt, resets the user's number of failed password attempts and saves the user object (everything only if oldPassword is correct). If no callback cb is provided a Promise is returned. If oldPassword does not match the user's old password, an IncorrectPasswordError is passed to cb or the Promise is rejected.

## ë¹„ë°€ë²ˆí˜¸ ë³€ê²½

ì‚¬ìš©ìì˜ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë³€ê²½í•˜ê¸° ìœ„í•´ì„œëŠ” ë¨¼ì € í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ì™€ ìƒˆ ë¹„ë°€ë²ˆí˜¸, ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸ê¹Œì§€ 3ê°œì˜ í•„ë“œì— ê°’ì´ ì íŒë‹¤. ë¹„ë°€ë²ˆí˜¸ëŠ” ì €ì¥ë  ë•Œ Plain Textê°€ ì íˆëŠ”ê²Œ ì•„ë‹ˆë¼ Saltì™€ Hashì— ì˜í•´ ì•”í˜¸í™”ëœ í…ìŠ¤íŠ¸ë¡œ ë³€í™˜ëœ ê°’ì´ ì €ì¥ì´ ëœë‹¤. ë”°ë¼ì„œ ë¨¼ì €, í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ë¥¼ ë°›ì•„ ê°™ì€ Saltì™€ Hashì— ì˜í•´ì„œ ì•”í˜¸í™” ì‹œí‚¨ ë’¤ ë¹„êµë¥¼ í•˜ê³  ë§ë‹¤ë©´ ë³€ê²½ì„ í•˜ëŠ” ì‹ìœ¼ë¡œ êµ¬í˜„ë˜ì–´ ìˆë‹¤. ë§Œì•½ í‹€ë¦°ë‹¤ë©´ ì½œë°±í•¨ìˆ˜ì— ì˜í•´ì„œ ì²˜ë¦¬ë˜ê±°ë‚˜ ì½œë°±í•¨ìˆ˜ë¥¼ ëª…ì‹œí•˜ì§€ ì•Šë”ë¼ë„ ì—ëŸ¬ë¡œ ì¤‘ë‹¨ëœë‹¤.

ë”°ë¼ì„œ ê°œë°œìê°€ í•´ê²°í•´ì•¼ í•˜ëŠ” ë¶€ë¶„ì€ 3ê°€ì§€ í•„ë“œì—ì„œ ë„˜ì–´ì˜¨ ê°’ ì¤‘ ìƒˆ ë¹„ë°€ë²ˆí˜¸ì™€ ìƒˆ ë¹„ë°€ë²ˆí˜¸ í™•ì¸ í•„ë“œì˜ ê°’ë“¤ì„ ë¨¼ì € ê°™ì€ì§€ ì²´í¬í•˜ê³  ê·¸ ê°’ì„ `changePassword(oldPassword, newPassword, [cb])`ì— ë„£ì–´ì¤˜ì•¼ í•œë‹¤. í˜„ì¬ ë¹„ë°€ë²ˆí˜¸ í•„ë“œì˜ ê°’ê³¼ MongoDBì˜ ì €ì¥ëœ ê°’ì„ ë¹„êµí•˜ëŠ” ê²ƒì€ í•¨ìˆ˜ì—ì„œ êµ¬í˜„ë˜ì–´ ìˆìœ¼ë¯€ë¡œ í›¨ì”¬ í¸í•˜ê²Œ ë¹„ë°€ë²ˆí˜¸ ë³€ê²½ì„ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

ì´ ë¶€ë¶„ì€ Passport ì „ëµ ì¤‘ localì„ ì„ íƒí•˜ì—¬ MongoDB ODM ì¤‘ Mongooseë¥¼ ì‚¬ìš©í•  ë•Œ í¸ì˜ë¥¼ ì£¼ëŠ” passport-local-mongoose ì„œë“œíŒŒí‹°ë¥¼ ì´ìš©í•  ë•Œë¡œ, passportì˜ ë‹¤ë¥¸ ì „ëµì„ ì‚¬ìš©í•œë‹¤ë©´ ë§ëŠ” ì„œë“œíŒŒí‹°ë¥¼ ì°¾ì•„ì„œ APIë¥¼ ì ìš©í•´ì•¼ í•œë‹¤.

---

- 11 æ—¥

# MongoDB ObjectId

NoSQL ë°ì´í„°ë² ì´ìŠ¤ì¸ MongoDBë¥¼ ì‚¬ìš©í•˜ë‹¤ë³´ë©´ ê´€ê³„í˜• ë°ì´í„°ë² ì´ìŠ¤ì˜ Join ì—°ì‚°ê³¼ ê°™ì´ ë‹¤ë¥¸ ì»¬ë ‰ì…˜ì˜ íŠ¹ì • ë°ì´í„°ë¥¼ ì°¸ì¡°í•  í•„ìš”ê°€ ìƒê¸´ë‹¤. ì´ë ‡ê²Œ ì°¸ì¡°í•  ìˆ˜ ìˆëŠ” ìë£Œí˜•ì´ ë°”ë¡œ ObjectIdì´ë©°, Joinê³¼ ê°™ì€ ì—°ì‚° ê¸°ëŠ¥ì„ ê°€ì§„ ê²ƒì´ populateë¼ê³  í•œë‹¤.

## ObjectId

ObjectIdëŠ” í•˜ë‚˜ì˜ document ë‚´ì—ì„œ ìœ ì¼í•¨ì´ ë³´ì¥ë˜ëŠ” 12 byte binary dataë¡œ, MongoDB ìì²´ì—ì„œ ìë™ìœ¼ë¡œ ê¸°ì…ë˜ëŠ” ê³ ìœ  ê°’ìœ¼ë¡œ ë‹¤ë¥¸ ì»¬ë ‰ì…˜ì— ìˆëŠ” ë°ì´í„°ë¥¼ ì°¸ì¡°í•  ìˆ˜ ìˆë‹¤.

MongoDB ODMì¸ Mongooseë¥¼ ì‚¬ìš©í•˜ì—¬ ìŠ¤í‚¤ë§ˆ ì¤‘ ObjectIdë¥¼ ì •ì˜í•˜ëŠ” ì½”ë“œë¥¼ ì˜ˆì‹œë¡œ ë³´ì

### ì˜ˆì‹œ

ë¹„ë””ì˜¤ì™€ ìœ ì €, ì½”ë©˜íŠ¸ë¥¼ ì»¬ë ‰ì…˜ì„ ê°€ì§€ê³  ìŠ¤í‚¤ë§ˆë¥¼ ê°ê° ì •ì˜í•  ë•Œ ìœ ì €ëŠ” ë¹„ë””ì˜¤ì™€ ì½”ë©˜íŠ¸ë¥¼ ë°°ì—´ë¡œ ì°¸ì¡°í•˜ì—¬ ê°€ì ¸ì•¼í•œë‹¤. ë¹„ë””ì˜¤ëŠ” ì½”ë©˜íŠ¸ë¥¼ ë°°ì—´ë¡œ ê°–ê³ , ê²Œì‹œìë¡œ ìœ ì € í•˜ë‚˜ë§Œ ê°€ì§ˆ ìˆ˜ ìˆë‹¤. ì½”ë©˜íŠ¸ëŠ” ê²Œì‹œìë¡œ ìœ ì € í•˜ë‚˜ë§Œ ê°€ì§ˆ ìˆ˜ ìˆë‹¤.

ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì´ ìŠ¤í‚¤ë§ˆë¥¼ ì •ì˜í•  ìˆ˜ ìˆë‹¤.

- Comment

```js
const CommentSchema = new mongoose.Schema({
  text: String,
  createdAt: {
    type: Date,
    default: Date.now,
  },
  creator: {
    type: mongoose.Schema.Types.ObjectId,
    ref: "User",
  },
});
```

- Video

```js
const VideoSchema = new mongoose.Schema({
  fileUrl: String,
  title: String,
  description: String,
  views: {
    type: Number,
    default: 0,
  },
  createdAt: {
    type: Date,
    default: Date.now,
  },
  comments: [
    {
      type: mongoose.Schema.Types.ObjectId,
      ref: "Comment",
    },
  ],
  creator: {
    type: mongoose.Schema.Types.ObjectId,
    ref: "User",
  },
});
```

- User

```js
const UserSchema = new mongoose.Schema({
  name: String,
  email: String,
  comments: [
    {
      type: mongoose.Schema.Types.ObjectId,
      ref: "Comment",
    },
  ],
  videos: [
    {
      type: mongoose.Schema.Types.ObjectId,
      ref: "Video",
    },
  ],
});
```

## Populate

- [Mongoose Populate DOCS](https://mongoosejs.com/docs/populate.html)

ìœ„ì—ì„œ MongoDBì—ì„œ ObejctIdì— ê²½ìš°ì—ëŠ” ê³ ìœ ì˜ ê°’ì„ ì ëŠ”ë‹¤ê³  í•˜ì˜€ë‹¤. ì´ ê³ ìœ ì˜ ê°’ì„ í†µí•´ì„œ ì°¸ì¡°ë¥¼ í•˜ê²Œ ëœë‹¤. ì°¸ì¡° ê°’ ë˜í•œ ê³ ìœ ì˜ ê°’ IDê°€ ê·¸ëŒ€ë¡œ ì í˜€ìˆìœ¼ë©° êµ¬ì²´ì ì¸ ìŠ¤í‚¤ë§ˆë¥¼ ì•Œ ìˆ˜ê°€ ì—†ë‹¤. ì´ ë¶€ë¶„ì„ í•´ê²°í•´ì£¼ëŠ” ê²ƒì´ populateì´ë‹¤.

íŠ¹ì§•ì´ë¼ê³  í•˜ë©´ populateì˜ ê²½ìš°ì—ëŠ” ìŠ¤í‚¤ë§ˆë¡œ ì´ë£¨ì–´ì§„ ëª¨ë¸ì˜ ë©”ì†Œë“œì´ë¯€ë¡œ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê°€ì§€ê³  ì‚¬ìš©í•  ìˆ˜ëŠ” ì—†ë‹¤. ë°”ë¡œ ì˜ˆì‹œë¥¼ ë´ë³´ì.

### ì˜ˆì‹œ

```js
const {
    user: { id },
  } = req;
  try {
    const userVideo = await User.findById(id).populate("videos");
  } catch(error)
  ...
```

ìœ„ì—ì„œ ë³¸ ì»¬ë ‰ì…˜ë“¤ì˜ ìŠ¤í‚¤ë§ˆë¥¼ ê·¸ëŒ€ë¡œ ê°€ì ¸ì™€ì„œ ë³´ë©´ ìœ ì €ëŠ” ìì‹ ì´ ì˜¬ë¦° ì¼ë ¨ì˜ ë¹„ë””ì˜¤ë“¤ì„ ê°€ì§€ê³  ìˆë‹¤. í•˜ì§€ë§Œ ì´ ë¹„ë””ì˜¤ë“¤ì€ Video ì»¬ë ‰ì…˜ì—ì„œ ì°¸ì¡°í•œ IDë§Œ ì €ì¥ë˜ì–´ì„œ ë³´ì—¬ì¤€ë‹¤.

ì—¬ê¸°ì„œ `populate("videos")`ë¥¼ í•¨ìœ¼ë¡œì¨ User ëª¨ë¸ ì¤‘ idì— ë§ëŠ” ë°ì´í„°ë¥¼ ì°¾ì€ ë’¤ ê·¸ ì¤‘ videos ì†ì„±ì˜ ë‚´ìš©ì„ ì‹¤ì œ ê°ì²´ë¡œ ì¹˜í™˜í•´ì¤€ë‹¤. ì´í›„ì— userVideoë¥¼ í˜¸ì¶œí•˜ë©´ ê°€ì§€ê³  ìˆëŠ” videos ì†ì„±ì˜ ë‚´ìš©ì„ ì‹¤ì œë¡œ í™•ì¸í•  ìˆ˜ ìˆë‹¤.

### ì„±ëŠ¥ ë¬¸ì œ

populateëŠ” $oidë¡œ ëª¨ë‘ ì¡°íšŒë¥¼ í•´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ë‹¨ì—ì„œ í•©ì³ì£¼ëŠ” ê²ƒì´ì§€ Joinì²˜ëŸ¼ ë°ì´í„°ë² ì´ìŠ¤ ìì²´ì—ì„œ í•©ì³ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆë‹¤. ë”°ë¼ì„œ ì„±ëŠ¥ì´ ê·¸ë ‡ê²Œ ì¢‹ì§€ ì•Šë‹¤. íŠ¹íˆ populateê°€ ì¤‘ì²©ë˜ë©´ ì„±ëŠ¥ ë¬¸ì œê°€ ìƒê¸¸ í™•ë¥ ì´ ì»¤ì§€ë¯€ë¡œ ì ì¬ì ì†Œì— ì“°ì—¬ì•¼í•œë‹¤.

---

# Chrome CSP

ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‚¬ìš©í•˜ì—¬ ê°„ë‹¨í•œ í”„ë¡œì íŠ¸ë¥¼ ì§„í–‰í•˜ë‹¤ê°€ ì›¹íŒ©ì„ ì‚¬ìš©í•˜ë©´ì„œ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ scriptë¡œ ë¶ˆëŸ¬ë“¤ì¼ ë•Œ ìƒê¸´ ì—ëŸ¬ë¥¼ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ ì°¾ì€ í¬ìŠ¤íŒ…ê³¼ í•¨ê»˜ ì •ë¦¬í•˜ë ¤ê³  í•œë‹¤.

- [í¬ë¡¬ ìµìŠ¤í…ì…˜ì˜ ì»¨í…íŠ¸ ë³´ì•ˆ ì •ì±… (CSP)](https://ohgyun.com/542)

í¬ë¡¬ì—ì„œ XXS ê³µê²©ì„ ë§‰ê¸° ìœ„í•´ì„œ Content Security Policyë¼ëŠ” ë³´ì•ˆì •ì±…ì„ ê°€ì§€ê³  ìˆë‹¤. ì´ëŸ¬í•œ ì •ì±…ì€ manifest.json íŒŒì¼ì— ì •ì˜ë  ìˆ˜ ìˆëŠ”ë°, ì •ì˜ê°€ ì•ˆë˜ì–´ìˆë‹¤ë©´ ê¸°ë³¸ê°’ìœ¼ë¡œ ë‹¤ìŒì„ ê°–ëŠ”ë‹¤.

> script-src 'self'; object-src 'self'

ì¸ë¼ì¸ ìŠ¤í¬ë¦½íŠ¸ëŠ” ì ˆëŒ€ í—ˆìš©í•˜ì§€ ì•Šìœ¼ë©°, ì™¸ë¶€ì˜ ìŠ¤í¬ë¦½íŠ¸ì˜ ê²½ìš°ì—ëŠ” í™”ì´íŠ¸ ë¦¬ìŠ¤íŠ¸ ë°©ì‹ìœ¼ë¡œ ì†ŒìŠ¤ì˜ ì˜¤ë¦¬ì§„ì„ ì¶”ê°€í•˜ì—¬ ì²˜ë¦¬í•  ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì—¬ê¸°ì„œë„ SSLì´ ì ìš©ë˜ì§€ ì•Šì€ HTTP ë¦¬ì†ŒìŠ¤ëŠ” í—ˆìš©ë˜ì§€ ì•ŠëŠ”ë‹¤.

ë‚˜ëŠ” í”„ë¡œì íŠ¸ ì§„í–‰ ì¤‘ì— ì´ ë¶€ë¶„ì— ë§‰í˜€ì„œ ì§„í–‰ì´ ë˜ì§€ ì•Šì•˜ë‹¤. ì›¹íŒ©ìœ¼ë¡œ ë‹¤ë¥¸ ë””ë ‰í† ë¦¬ì— ì •ì˜í•œ jsíŒŒì¼ì„ scriptë¡œ ë¶ˆëŸ¬ì˜´ìœ¼ë¡œì¨ `eval()` í•¨ìˆ˜ê°€ ì‹¤í–‰ì´ ë˜ì•¼í•˜ëŠ”ë° í¬ë¡¬ì—ì„œëŠ” CSP ì •ì±…ì— ì˜í•´ ë§‰í˜”ì—ˆë‹¤.

> `eval()`ì´ë‚˜ `setTimeout(String)`, `new Function(String)`ê³¼ ê°™ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì‹¤í–‰í•˜ë„ë¡ í•œë‹¤ë©´,
> `unsafe-eval`ì„ ì¶”ê°€í•˜ëŠ” ë°©ë²•ìœ¼ë¡œ í—ˆìš©í•  ìˆ˜ ìˆë‹¤.

ë”°ë¼ì„œ ë‹¤ìŒê³¼ ê°™ì€ ì •ì±…ì„ ì ì–´ ì‹¤í–‰ì´ ê°€ëŠ¥í•˜ë„ë¡ í•˜ì˜€ë‹¤.

`"content_security_policy": "script-src 'selfâ€™ â€˜unsafe-eval'; object-src 'self'"`

í•˜ì§€ë§Œ ì´ëŸ¬í•œ ë°©ë²•ì€ XSS ê³µê²©ì— ì·¨ì•½í•˜ë¯€ë¡œ ì„¤ì • ì‹œì—ëŠ” ì·¨ì•½í•œ ê³³ì´ ì—†ëŠ”ì§€ ì˜ ì°¾ì•„ë´ì•¼í•œë‹¤. manifest.json íŒŒì¼ì„ ì´ìš©í•˜ì§€ ì•Šê³  node.js í”„ë¡œì íŠ¸ë¡œ, express í”„ë ˆì„ì›Œí¬ë¥¼ ì‚¬ìš©í–ˆê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì´ ë¯¸ë“¤ì›¨ì–´ë¡œ í—¤ë”ë¥¼ ì„¤ì •í•˜ì—¬ ê°œë°œì„ ê³„ì† ì´ì–´ë‚˜ê°”ë‹¤.

```js
export const SetCSP = (req, res, next) => {
  res.setHeader(
    "Content-Security-Policy",
    "script-src 'self' 'unsafe-eval'; object-src 'self'"
  );
  return next();
};
```

---

- 12 æ—¥

# PS

- `1477. íœ´ê²Œì†Œ ì„¸ìš°ê¸°`

```cpp
#include <bits/stdc++.h>
using namespace std;

int getMinDistance(vector<int> &v, int dist) {
	int cnt = 0;
	for (int i=1; i<v.size(); i++) {
		cnt += (v[i] - v[i-1] - 1) / dist;
	}
	return cnt;
}

int main() {
	ios::sync_with_stdio(0);
	cin.tie(0);
	int n, m, l;
	cin >> n >> m >> l;
	vector<int> v = {0, l};

	for (int i=0; i<n; i++) {
		int temp;
		cin >> temp;
		v.push_back(temp);
	}
	sort(v.begin(), v.end());

	int right = l;
	int left = 0;
	int mid;
	while(left <= right) {
		mid = (left + right) / 2;
		if(getMinDistance(v, mid) > m)
			left = mid + 1;
		else
			right = mid - 1;
	}
	cout << left;
}
```

nê°œì˜ íœ´ê²Œì†Œê°€ ì£¼ì–´ì§€ê³  mê°œì˜ íœ´ê²Œì†Œê°€ ë” ê±´ì„¤ë˜ì–´ì•¼ í•  ë•Œ íœ´ê²Œì†Œ ì‚¬ì´ì˜ ê±°ë¦¬ì˜ ìµœëŒ“ê°’ì„ ìµœì†Œë¡œ í•˜ëŠ” ê±°ë¦¬ë¥¼ êµ¬í•´ì•¼ í•œë‹¤. ê·¸ë˜ì„œ ê±°ë¦¬ë¥¼ ì´ë¶„íƒìƒ‰ìœ¼ë¡œ êµ¬í•  ë³€ìˆ˜ë¡œ ë‘ê³  ì í•©í•œ ê°’ì„ ì°¾ì•˜ë‹¤. ì´ ë•Œ íœ´ê²Œì†Œì˜ ê°¯ìˆ˜ê°€ mê°œì™€ ê°™ì•„ì•¼ í•˜ë¯€ë¡œ ë§Œì•½ ë§ìœ¼ë©´ ê±°ë¦¬ë¥¼ ëŠ˜ë¦¬ê³  ì ìœ¼ë©´ ê±°ë¦¬ë¥¼ ì¤„ì´ëŠ” ì‹ìœ¼ë¡œ í•˜ì˜€ë‹¤. í•œ íœ´ê²Œì†Œì™€ í•œ íœ´ê²Œì†Œì˜ ê±°ë¦¬ì— ì˜ˆì¸¡í•˜ëŠ” ê±°ë¦¬ë¥¼ ë‚˜ëˆ„ê²Œ ë˜ë©´ íœ´ê²Œì†Œë“¤ ì‚¬ì´ì˜ íœ´ê²Œì†Œì˜ ê°¯ìˆ˜ë¥¼ ì•Œ ìˆ˜ ìˆë‹¤. ì´ ë¶€ë¶„ì„ ì‚¬ìš©í•˜ì—¬ íœ´ê²Œì†Œ ì‚¬ì´ì˜ ê±°ë¦¬ë¥¼ ì¼ì •í•˜ê²Œ í•˜ì˜€ì„ ë•Œ ì–»ì„ ìˆ˜ ìˆëŠ” íœ´ê²Œì†Œì˜ ê°¯ìˆ˜ë¥¼ ê°€ì§€ê³  ì´ë¶„íƒìƒ‰ì˜ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í–ˆë‹¤.

- `3020. ê°œë˜¥ë²Œë ˆ`

```cpp
#include <bits/stdc++.h>
using namespace std;

const int MAX = 1e9;

int main() {
	ios::sync_with_stdio(0);
	cin.tie(0);

	int n, h, ans = MAX, cnt;
	cin >> n >> h;
	vector<int> top(n/2), bot(n/2);
	for (int i=0; i<n/2; i++) {
		cin >> bot[i] >> top[i];
	}
	sort(top.begin(), top.end());
	sort(bot.begin(), bot.end());

	for (int i=1; i<=h; i++) {
		int obstacle = bot.size() - (lower_bound(bot.begin(), bot.end(), i) - bot.begin());
		obstacle += top.size() - (upper_bound(top.begin(), top.end(), h - i) - top.begin());
		if(ans > obstacle) {
			ans = obstacle;
			cnt = 1;
		}
		else if (ans == obstacle)
			cnt++;
	}

	cout << ans << ' ' << cnt;
}
```

ê°œë˜¥ë²Œë ˆê°€ ì„ì£¼ì™€ ì„ìˆœì„ í”¼í•´ì„œ ìµœì†Œì˜ ê°¯ìˆ˜ë¥¼ ê¹¨ê³  ë„ì°©í•˜ëŠ” ì¥ì• ë¬¼ ê°¯ìˆ˜ì™€ ë£¨íŠ¸ê°€ ëª‡ ê°€ì§€ê°€ ìˆëŠ” ì§€ ì°¾ëŠ” ë¬¸ì œì´ë‹¤. ì´ ë¬¸ì œë„ ì´ë¶„íƒìƒ‰ìœ¼ë¡œ í•´ê²°í•  ìˆ˜ ìˆë‹¤. ì¡°ê¸ˆ ë” ë¹ ë¥¸ í’€ì´ë¥¼ ìœ„í•´ì„œ ì´ë¶„íƒìƒ‰ìœ¼ë¡œ ë§Œë“¤ì–´ì§„ í•¨ìˆ˜ì¸ lower_boundì™€ upper_boundë¥¼ ì´ìš©í•˜ì—¬ í•´ê²°í•˜ì˜€ë‹¤.

lower_bound í•¨ìˆ˜ëŠ” ë²”ìœ„ì™€ ì •ìˆ˜ë¥¼ ê¸°ì…í•´ì•¼í•œë‹¤. ë²”ìœ„ëŠ” í•¨ìˆ˜ê°€ ì ìš©ë˜ëŠ” ë²¡í„° ì»¨í…Œì´ë„ˆì˜ ì¸ë±ìŠ¤ ë²”ìœ„ì´ê³  ì •ìˆ˜ëŠ” í•´ë‹¹ ë²”ìœ„ì—ì„œ ì •ìˆ˜ì— í•´ë‹¹í•˜ëŠ” ê°’ì„ ì°¾ëŠ” ê²ƒì´ë‹¤. ì´ ë•Œ í•´ë‹¹í•˜ëŠ” ê°’ì´ ë§Œì•½ ì—†ë‹¤ë©´ ì •ìˆ˜ë³´ë‹¤ í° ìˆ˜ ì¤‘ ê°€ì¥ ì‘ì€ ê°’ì˜ iteratorë¥¼ ë¦¬í„´í•´ì¤€ë‹¤. ë”°ë¼ì„œ begin()ê³¼ ê°™ì€ iteratorì™€ ëº„ì…ˆ ì—°ì‚°ì„ í•˜ì—¬ í•´ë‹¹ ê°’ë³´ë‹¤ ì‘ì€ ì¥ì• ë¬¼ë“¤ì„ ëª¨ë‘ êµ¬í•œ ë’¤ ì „ì²´ ì¥ì• ë¬¼ ê°¯ìˆ˜ì—ì„œ ì œí•˜ì—¬ ì¤€ë‹¤. ì¦‰, ê°œë˜¥ë²Œë ˆê°€ ì§€ë‚˜ê°€ë©´ì„œ ë¶€ë”ªíˆëŠ” ì„ì£¼ë“¤ì„ êµ¬í•œ ê²ƒì´ë‹¤.

ì¢…ìœ ì„ ë˜í•œ ë§ˆì°¬ê°€ì§€ë¡œ ì§„í–‰ë˜ì§€ë§Œ ì¢…ìœ ì„ì€ ìœ„ì—ì„œ ìë¼ë‚˜ê¸° ë•Œë¬¸ì— ë†’ì´ì—ì„œ í˜„ì¬ ë†’ì´ë¥¼ ë¹¼ì„œ upper_boundë¡œ ê°™ì€ ì—°ì‚°ì„ ì ìš©í•´ì£¼ì—ˆë‹¤.

---

- 13 æ—¥

# Ajax

ìµœì´ˆ ì›¹ì˜ ëª©ì ì€ ì •ì  ë¬¸ì„œë¥¼ ë„ìš°ëŠ” ê²ƒì´ì—ˆë‹¤. ë”°ë¼ì„œ ë‚´ìš©ì´ ë³€ê²½ëœë‹¤ë©´ ìƒˆë¡œê³ ì¹¨ì„ í†µí•´ì„œ ì •ë³´ë¥¼ ë°›ì•„ì•¼ì§€ í™”ë©´ì— í‘œì‹œí•  ìˆ˜ ìˆì—ˆë‹¤. ì´ëŸ¬í•œ ë‚´ìš©ì€ ë‹¹ì—°í–ˆì§€ë§Œ Ajaxì˜ ê°œë…ì´ ë„ì…ë˜ê³  ë‚˜ì„œ ëª¨ë“  ê²ƒì´ ë°”ë€Œì—ˆë‹¤.

AjaxëŠ” **Asynchronous JavaScript and XML**ì˜ ì•½ìë‹¤. í•œêµ­ì–´ë¡œëŠ” ë¹„ë™ê¸°ì  ìë°”ìŠ¤í¬ë¦½íŠ¸ì™€ XML ì •ë„ë¡œ ì§ì—­í•  ìˆ˜ ìˆëŠ”ë° ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•´ì„œ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì„œë²„ì™€ ë¸Œë¼ìš°ì €ê°€ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ëŠ” ë°©ì‹ì„ ì˜ë¯¸í•œë‹¤. ì´ ë•Œ ì‚¬ìš©í•˜ëŠ” APIê°€ XMLHttpRequestì´ë©°, JSONê³¼ XMLì„ ì‚¬ìš©í•˜ì—¬ í†µì‹ í•œë‹¤.

ë˜í•œ ë¹„ë™ê¸°ì ìœ¼ë¡œ ì„œë²„ì™€ ë¸Œë¼ìš°ì €ê°€ ë°ì´í„°ë¥¼ ì£¼ê³  ë°›ì€ ë’¤ ë³€ê²½ëœ ê²°ê³¼ë¥¼ ì›¹í˜ì´ì§€ì— í”„ë¡œê·¸ë˜ë°ì ìœ¼ë¡œ ë°˜ì˜í•˜ê²Œ ë˜ì–´ ì›¹í˜ì´ì§€ì˜ ë¡œë”© ì—†ì´ ë³€ê²½ëœ ë‚´ìš©ì„ ë°›ì„ ìˆ˜ ìˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ í¬í„¸ ì„œë¹„ìŠ¤ì—ì„œ ì œê³µí•˜ëŠ” ì´ë©”ì¼ ì‹œìŠ¤í…œì„ ë³´ë©´ ì´ë©”ì¼ì´ ì˜¤ê²Œ ë˜ë©´ ìƒˆë¡œê³ ì¹¨ì´ í•„ìš” ì—†ì´ ë°”ë¡œ ë°›ì€ ë©”ì¼í•¨ì— **1** í‘œì‹œê°€ ëœ¨ê³ , ë§Œì•½ ë©”ì¼í•¨ì„ ì¼œë†¨ë‹¤ë©´ ë°©ê¸ˆ ì˜¨ ë©”ì¼ì´ ë¦¬ìŠ¤íŠ¸ ì¤‘ ë§¨ ìœ„ì— ëœ¨ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆë‹¤. ë‹¤ë¥¸ ì˜ˆì‹œë¡œëŠ” ìœ íŠœë¸Œì—ì„œ ë™ì˜ìƒì„ ì‹œì²­í•˜ë˜ ì™€ì¤‘ ë™ì˜ìƒì— ì½”ë©˜íŠ¸ë¥¼ ë‹¬ì•„ë„ ë™ì˜ìƒì´ ëŠê¸°ì§€ ì•Šê³  ëŒ“ê¸€ì´ ë‹¬ë¦¬ëŠ” ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆë‹¤. ì´ëŸ¬í•œ ì„œë¹„ìŠ¤ë“¤ì—ì„œ ì‚¬ìš©í•˜ëŠ” ê¸°ìˆ ì´ë¼ê³  í•  ìˆ˜ ìˆë‹¤.

## ì¥ë‹¨ì 

- ì¥ì 

  - í˜ì´ì§€ ì´ë™ì—†ì´ ê³ ì†ìœ¼ë¡œ í™”ë©´ì„ ì „í™˜í•  ìˆ˜ ìˆë‹¤.
  - ì„œë²„ ì²˜ë¦¬ë¥¼ ê¸°ë‹¤ë¦¬ì§€ ì•Šê³ , ë¹„ë™ê¸° ìš”ì²­ì´ ê°€ëŠ¥í•˜ë‹¤.
  - ìˆ˜ì‹ í•˜ëŠ” ë°ì´í„° ì–‘ì„ ì¤„ì¼ ìˆ˜ ìˆê³ , í´ë¼ì´ì–¸íŠ¸ì—ê²Œ ì²˜ë¦¬ë¥¼ ìœ„ì„í•  ìˆ˜ë„ ìˆë‹¤.
  - í”ŒëŸ¬ê·¸ì¸ ì—†ì´ë„ ì¸í„°ë ‰í‹°ë¸Œí•œ ì›¹í˜ì´ì§€ êµ¬í˜„í•  ìˆ˜ ìˆë‹¤.

- ë‹¨ì 

  - Ajaxë¥¼ ì“¸ ìˆ˜ ì—†ëŠ” ë¸Œë¼ìš°ì €ì— ëŒ€í•œ ë¬¸ì œê°€ ìˆë‹¤.
  - HTTP í´ë¼ì´ì–¸íŠ¸ì˜ ê¸°ëŠ¥ì´ í•œì •ë˜ì–´ ìˆë‹¤.
  - í˜ì´ì§€ ì´ë™ì—†ëŠ” í†µì‹ ìœ¼ë¡œ ì¸í•œ ë³´ì•ˆìƒì˜ ë¬¸ì œ
  - ì§€ì›í•˜ëŠ” Charsetì´ í•œì •ë˜ì–´ ìˆë‹¤.
  - ìŠ¤í¬ë¦½íŠ¸ë¡œ ì‘ì„±ë˜ë¯€ë¡œ ë””ë²„ê¹…ì´ ìš©ì´í•˜ì§€ ì•Šë‹¤.
  - ìš”ì²­ì„ ë‚¨ë°œí•˜ë©´ ì—­ìœ¼ë¡œ ì„œë²„ ë¶€í•˜ê°€ ëŠ˜ ìˆ˜ ìˆìŒ.
  - ë™ì¼-ì¶œì²˜ ì •ì±…ìœ¼ë¡œ ì¸í•´ ë‹¤ë¥¸ ë„ë©”ì¸ê³¼ëŠ” í†µì‹ ì´ ë¶ˆê°€ëŠ¥í•˜ë‹¤.

(ì¶œì²˜: ìœ„í‚¤ë°±ê³¼)

## Node js ì˜ˆì‹œ

- script jsíŒŒì¼

```js
$(document).ready(function(){

  $('#getMethod').click(function() {

      var get = 'GET METHOD CALL';

      //Ajax GET Method TEST
      $.ajax({
            url: '/api/get',
            dataType: 'json',
            type: 'GET',
            data: {data:get},
            success: function(result) {
                if (result) {
                  $('#get_output').html(result.result);
                }
            }
        });
  })
};
```

- node js

```js
app.get("/api/get", (req, res) => {
  var data = req.query.data;
  console.log("GET Parameter = " + data);

  var result = data + " Succese";
  console.log(result);
  res.send({ result: result });
});
```

---

- 14 æ—¥

# Javascript Iterator

ES6ì´ ë„ì…ë˜ë©´ì„œ ë§ì€ ê°œë…ë“¤ì´ ì¶”ê°€ê°€ ë˜ì—ˆë‹¤. ê·¸ ì¤‘ ë‹¤ë¥¸ ì–¸ì–´ì—ì„œë„ ë§ì´ ì‚¬ìš©ë˜ëŠ” Iterator(ë°˜ë³µì)ì— ëŒ€í•´ ì•Œì•„ë³´ì.

- ë ˆí¼ëŸ°ìŠ¤
  - [Javascript Iterator](https://medium.com/@la.place/javascript-iterator-b16ca3c51af2)
  - [Javascriptì™€ Iterator](https://pks2974.medium.com/javascript%EC%99%80-iterator-cdee90b11c0f)

## for-of

ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì›ë˜ for-inì„ í†µí•´ objectë¥¼ ìˆœíšŒí•˜ì˜€ë‹¤. í•˜ì§€ë§Œ ë°°ì—´ì„ ìˆœíšŒí•  ë•ŒëŠ” ë¶ˆí¸í•œ ì ì´ ìˆê³  forEachì˜ ê²½ìš°ì—ë„ í”„ë¡œê·¸ë˜ë¨¸ê°€ ì˜ë„í•œ ë°”ë¡œ ì‚¬ìš©í•˜ê¸° ì–´ë µë‹¤. ì´ëŸ¬í•œ ë¬¸ì œë¥¼ ë³´ì™„í•˜ê¸° ìœ„í•´ì„œ ES6ì—ì„œëŠ” for-ofë¥¼ ë„ì…í–ˆë‹¤.

for-ofì˜ ì¥ì ì€ ë°‘ì—ì„œ ì´ì•¼ê¸°í•  Iterableí•œ ê°ì²´. ì¦‰, ì—´ê±°ê°€ëŠ¥í•œ ê°ì²´ë¼ë©´ ëª¨ë‘ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

## Iterable

Iterableì€ ê°ì²´ì˜ ë©¤ë²„ë¥¼ ë°˜ë³µí•  ìˆ˜ ìˆëŠ” ê°ì²´ë¡œ, ë°˜ë³µí•  objectì— [@@iterator] ë©”ì†Œë“œê°€ ìˆë‹¤ë©´ ì‚¬ìš©í•  ìˆ˜ ìˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì€ í”„ë¡œí¼í‹°ë¥¼ ì‚¬ìš©í•˜ë©´ ëœë‹¤.

`object[Symbol.iterator]`

ìœ„ì—ì„œ ì´ì•¼ê¸°í•œ for-ofê°€ ë°”ë¡œ ì´ í”„ë¡œí¼í‹°ë¥¼ ì´ìš©í•˜ì—¬ ìˆœíšŒí•˜ëŠ” ê²ƒì´ë‹¤.

### Iterable ê°€ì§„ ê°ì²´

- Array
- TypedArray
- String
- Map
- Set

### Spread ë¬¸ë²•

Spreadë¥¼ ì´ìš©í•˜ë©´ iterable ê°ì²´ë¥¼ ì‰½ê²Œ í•´ì²´í•  ìˆ˜ ìˆë‹¤.

```js
let txt = "wow";
console.log([...txt]); // ['w', 'o', 'w']
```

## Iterator

IteratorëŠ” ê°ì²´ë¥¼ `next()` ë©”ì†Œë“œë¡œ ìˆœí™˜ í•  ìˆ˜ ìˆë‹¤. ì´ ë©”ì†Œë“œì˜ ë°˜í™˜ìëŠ” **{done: boolean, value: any}**ë¥¼ í¬í•¨í•´ì•¼ í•œë‹¤. ë§ˆì§€ë§‰ ìˆœì„œì—ì„œëŠ” doneì„ trueë¡œ ë°˜í™˜í•˜ê²Œ ëœë‹¤.

### ì‘ìš©

í¬ê¸°ê°€ 100ì´ê³  ê°’ì´ ëª¨ë‘ 0ì¸ ì´ˆê¸°í™”ëœ ë°°ì—´ì´ í•„ìš”í•˜ë‹¤ê³  í•  ë•Œ, Iteratorì™€ Spreadë¥¼ ì´ìš©í•´ë³´ì.

```js
const arr = [];
for (let i = 0; i < 100; i++) {
  arr.push(0);
}
console.log(arr);
```

```js
const arr = [...Array(100).keys()].map((i) => 0);
console.log(arr);
```

---

- 15 æ—¥

## JavaScript Generator

ì œë„ˆë ˆì´í„°ëŠ” ì½”ë£¨í‹´(Co-Routine)ê³¼ ìœ ì‚¬í•˜ë‹¤. ì½”ë£¨í‹´ì€ ë‹¤ë¥¸ ì–¸ì–´ì—ì„œ ì ‘í•  ìˆ˜ ìˆëŠ”ë°, Aì™€ Bì˜ ì½”ë£¨í‹´ì´ ì¡´ì¬í•œë‹¤ë©´ ì„œë¡œëŠ” ì„œë¡œì˜ ì„œë¸Œë£¨í‹´ì´ë©°, ë°œë™ë  ë•Œë§ˆë‹¤ ì´ì „ì— ìì‹ ì˜ ë§ˆì§€ë§‰ ì‹¤í–‰ì§€ì ì—ì„œ ì´ì–´ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆë‹¤.

ì œë„ˆë ˆì´í„°ë„ ë§ˆì°¬ê°€ì§€ë¡œ, í•¨ìˆ˜ ì‹¤í–‰ ì¤‘ ë©ˆì·„ë‹¤ê°€ ë©ˆì¶˜ ìœ„ì¹˜ì—ì„œ ë‹¤ì‹œ ì‹œì‘í•  ìˆ˜ ìˆë‹¤. ë˜í•œ ìœ„ì—ì„œ ì´ì•¼ê¸°í•œ Iteratorë¥¼ ê°€ì¥ ì‰½ê²Œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ë°©ë²•ì´ ë°”ë¡œ ì œë„ˆë ˆì´í„° ê°ì²´ë¥¼ ì´ìš©í•˜ëŠ” ê²ƒì´ë‹¤.

### ì‚¬ìš©

ì œë„ˆë ˆì´í„°ëŠ” `function*()` í‚¤ì›Œë“œë¥¼ ê°€ì§€ê³  ìƒì„±í•  ìˆ˜ ìˆìœ¼ë©°, í˜¸ì¶œì‹œì—ëŠ” í•¨ìˆ˜ê°€ ì‹¤í–‰ëœ ë’¤ ë°˜í™˜ê°’ì´ ë°˜í™˜ë˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, Iterator ê°ì²´ê°€ ë°˜í™˜ì´ ëœë‹¤. ë”°ë¼ì„œ `next()`ë©”ì†Œë“œë¥¼ ê°€ì§€ê³  í˜¸ì¶œí•˜ê²Œ ë˜ë©´ ì œë„ˆë ˆì´í„°ê°€ ì‹¤í–‰ì´ ë˜ê³ , `yield`ë¥¼ ë§Œë‚˜ê²Œ ë˜ë©´ í•´ë‹¹ ê°’ì„ `{value, done}` ì¤‘ value í”„ë¡œí¼í‹°ì— ì €ì¥ì„ í•˜ê²Œ ëœë‹¤. ì´í›„ì—” ì œë„ˆë ˆì´í„°ê°€ ë©ˆì¶”ê³  í˜„ì¬ê¹Œì§€ì˜ ì»¨í…ìŠ¤íŠ¸ëŠ” ì €ì¥ë˜ê²Œ ëœë‹¤.

```js
function* increseNumber() {
  let number = 1;
  while (number <= 100) {
    yield number++;
  }
}

const generator = increseNumber();

console.log(generator.next().value); // 1
console.log(generator.next().value); // 2
console.log(generator.next().value); // 3
console.log(generator.next().value); // 4
console.log(generator.next().value); // 5
// ...
console.log(generator.next().value); // 99
console.log(generator.next().value); // 100
console.log(generator.next().value); // undefined
```

ì¡°ê¸ˆ ë” ì‘ìš©í•˜ìë©´ ì»¨í…ìŠ¤íŠ¸ë¥¼ ì €ì¥í•˜ëŠ” ê²ƒì„ ì´ìš©í•˜ì—¬ ë‹¤ì´ë‚˜ë¯¹ í”„ë¡œê·¸ë˜ë°ì„ ì‰½ê²Œ í•  ìˆ˜ ìˆë‹¤. ë‹¤ìŒì€ í”¼ë³´ë‚˜ì¹˜ ìˆ˜ì—´ì„ ì œë„ˆë ˆì´í„°ë¥¼ ê°€ì§€ê³  ë§Œë“  ì˜ˆì œì´ë‹¤.

```js
function* fibonacci() {
  let [prev, curr] = [1, 1];
  while (true) {
    [prev, curr] = [curr, prev + curr];
    yield curr;
  }
}

for (let n of fibonacci()) {
  console.log(n);

  if (n >= 1000) {
    break;
  }
}
```

ë‹¤ë“¤ ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•˜ëŠ” ì§„ë©´ëª©ì€ ë¹„ë™ê¸°ì—ì„œì˜ ì‚¬ìš©ì´ë¼ê³  í•œë‹¤. ìë°”ìŠ¤í¬ë¦½íŠ¸ë¥¼ ì´ìš©í•˜ì—¬ ì½”ë”©ì„ ì§„í–‰í•˜ë‹¤ê°€ ê²ªì„ ìˆ˜ ìˆëŠ” ì½œë°±ì§€ì˜¥ì„ í”„ë¡œë¯¸ìŠ¤ì™€ ì œë„ˆë ˆì´í„°ë¥¼ ì´ìš©í•˜ë©´ ìˆ˜ì›”í•˜ê²Œ í•´ê²°í•  ìˆ˜ ìˆë‹¤ê³  í•œë‹¤. ê·¸ëŸ¬í•œ ê°œë…ì„ ì ‘ëª©ì‹œí‚¨ ê²ƒì´ ë°”ë¡œ `async-await`ì´ë‹¤. ìì£¼ ì‚¬ìš©í•˜ê²Œ ë˜ëŠ” `async-await`ì€ ë³„ ë‹¤ë¥¸ ë‚´ìš©ì—†ì´ ëª…ì‹œë§Œ í•œë‹¤ë©´ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°ì„ ë§¤ìš° ì‰½ê²Œ ë§Œë“¤ì–´ì¤€ë‹¤. í•˜ì§€ë§Œ ê°œë…ì„ ì•Œ í•„ìš”ê°€ ìˆë‹¤ê³  ìƒê°ë˜ê¸° ë•Œë¬¸ì— ë°‘ì˜ ë§í¬ë¥¼ ì°¸ê³ í•˜ì—¬ ìˆ™ì§€í•˜ëŠ” ê²ƒì´ ì¢‹ì•„ë³´ì¸ë‹¤.

- [ES6ì˜ ì œë„ˆë ˆì´í„°ë¥¼ ì‚¬ìš©í•œ ë¹„ë™ê¸° í”„ë¡œê·¸ë˜ë°](https://meetup.toast.com/posts/73)

---
